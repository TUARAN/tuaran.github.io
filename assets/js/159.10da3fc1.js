(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{649:function(s,n,a){"use strict";a.r(n);var e=a(2),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"css-in-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-in-js"}},[s._v("#")]),s._v(" CSS in JS")]),s._v(" "),a("p",[s._v("前面写了一篇： "),a("a",{attrs:{href:"https://juejin.cn/post/7164920679748337701",target:"_blank",rel:"noopener noreferrer"}},[s._v("CSS in JS = JSS , 这个库你知道吗？ - 掘金"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("在评论里有人说：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e871df95eeff45ce8a2f506fdf92323d~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d2daa0605b54ac69392f058ca63b317~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0fed14eea85d4abe9452ca187ef0925a~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[s._v("同时还发了一个沸点：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/pin/7164659573071511588",target:"_blank",rel:"noopener noreferrer"}},[s._v("你听说过 JSS 吗？在 JS 中写 CSS，感觉有点奇葩。 - 沸点 - 掘金"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a929a7a7916a47e3818bf1a63dc1d898~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f0af6f4739eb4d839ae53c9223c8bbb1~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5ab3a72983f94d26ab05a3d9d39e42af~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("大家都很有才，视野很开阔~~")]),s._v(" "),a("p",[s._v("本瓜所在的项目组技术栈主要是 Vue2，平常又疏于 CSS 探究，对 JSX 里融合写 CSS 这种全面组件化的写法了解不多。")]),s._v(" "),a("p",[s._v("我现在是意识到了，这种写法其实早就有了，可参见阮一峰的这篇："),a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2016/06/css_modules.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("CSS Modules 用法教程 - 阮一峰的网络日志"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("简而言之，代码组织形式类似如下，从 A 到 B 的过程：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// *.scss\n.item {\n  display: flex;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("A")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Simply import\nimport './foo.scss';\n\nconst App = () => (\n  <div className=\"item\">\n    {item}\n  </div>\n)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("B")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// import as a js module \nimport styles from './foo.scss';\n\nconst App = () => (\n  <div className={styles.item}>\n    {item}\n  </div>\n)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("编译出来的结果也不一样：")]),s._v(" "),a("ul",[a("li",[s._v("A")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\x3c!-- Normal SCSS --\x3e\n<div class="item">foo bar</div>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("B")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\x3c!-- SCSS with Class Module will have \n     hash values suffixed to the class name --\x3e\n<div class="item-35ada5">foo bar</div>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("CSS in JS ，将样式也整合在模板组件里面，确实就像有人所说的：“分久必合、合久必分”。")]),s._v(" "),a("h2",{attrs:{id:"js-in-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-in-css"}},[s._v("#")]),s._v(" JS in CSS")]),s._v(" "),a("p",[s._v("后来又了解到：")]),s._v(" "),a("p",[s._v("除了 CSS in JS，还有一种方向是 JS in CSS；尤雨溪在 Vue3.2 提出，目的是：让我们可以在 css 中使用 js 变量。"),a("a",{attrs:{href:"https://github.com/vuejs/rfcs/pull/231",target:"_blank",rel:"noopener noreferrer"}},[s._v("SFC style CSS variable injection (new edition) by yyx990803 · Pull Request #231 · vuejs/rfcs"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("p",[s._v("CSS in JS 是把 CSS 写在 JSX 模板中；")]),s._v(" "),a("p",[s._v("JS in CSS 是把 JS 变量写入 CSS 中；")])]),s._v(" "),a("p",[s._v("想想我们在  Vue2 中，想动态控制样式，我们通常这样：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <h1 :style="{opacity: opacity}">Vue</h1>\n</template>\n\n<script>\nexport default {\n    data () {\n        return { opacity: 0 }\n    }，\n    mounted () {\n        setInterval(() => {\n            this.opacity >= 1 && (this.opacity = 0)\n            this.opacity += 0.2\n        }, 300)\n    }\n}\n<\/script>\n\n<style>\nh1 {\n    color: rgb(65，184，131);\n}\n</style>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("在 Vue3.2 中：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<template>\n    <h1>Vue</h1>\n</template>\n<script>\nexport default {\n    data () {\n        return { opacity: 0 }\n    },\n    mounted () {\n        setInterval(() => {\n            this.opacity >= 1 && (this.opacity = 0)\n            this.opacity += 0.2\n        }, 300)\n    }\n}\n<\/script>\n\n<style> \nh1 {\n    color: rgb(65，184，131);\n    opacity: v-bind(opacity);\n}\n</style>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("这个要借助 vite 编译：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm init vite-app vars\n\nnpm i\n\nnpm run dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0185c45eca5144f69efb3fcba301c0f0~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[s._v("然后就可以看到效果了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba79b63e874c415986fe5f3ce2ce4002~tplv-k3u1fbpfcp-watermark.image?",alt:"GIF 2022-11-17 14-10-13.gif"}})]),s._v(" "),a("p",[s._v("再补充一个颜色选择器的例子")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n  <div class="Example">\n    <div class="area">\n      <div class="form">\n        <label>Select Color (SCSS)</label>\n        <input type="color" v-model="themeColors.bgColor" />\n      </div>\n      <div class="preview">\n        <span>{{ themeColors.bgColor }}</span>\n        <div class="customColor"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from "vue";\n\nexport default {\n   setup() {\n    const themeColors = ref({\n      bgColor: \'\'\n    })\n\n    return {\n      themeColors\n    };\n  },\n};\n<\/script>\n\n<style lang="scss">\n\n.Example {\n  $customColor: v-bind(\'themeColors.bgColor\');\n\n  .customColor {\n    background: $customColor;\n    width: 100px;\n    height: 50px;\n  }\n}\n\n</style>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4a541be019045b2ae4637cc4a118cba~tplv-k3u1fbpfcp-watermark.image?",alt:"124126368-49e13900-da83-11eb-9dc2-94ec2a69e33e_2.gif"}})]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vuejs/rfcs/pull/231#issuecomment-872217979",target:"_blank",rel:"noopener noreferrer"}},[s._v("来源"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),a("p",[s._v("不管是 CSS in JS 还是 JS in CSS，总之都想整合 JS 和 CSS 的能力，梳理一个新的模板规范。")]),s._v(" "),a("p",[s._v("后面还会怎么变？拭目以待。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2537a399b3de42edac9b7760232280bd~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("ul",[a("li",[s._v("为什么是 v-bind？有更多兴趣的可以看下 "),a("a",{attrs:{href:"https://github.com/vuejs/rfcs/pull/231",target:"_blank",rel:"noopener noreferrer"}},[s._v("SFC style CSS variable injection (new edition) by yyx990803 · Pull Request #231 · vuejs/rfcs"),a("OutboundLink")],1),s._v(" 尤大在这个 issues 下对大家关于自定义写法上建议的回答。")])]),s._v(" "),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("OK，以上便是本篇分享，希望各位工友喜欢~ 欢迎点赞、收藏、评论 🤟")]),s._v(" "),a("p",[s._v("我是掘金安东尼 🤠 100 万人气前端技术博主 💥 INFP 写作人格坚持 1000 日更文 ✍ 关注我，安东尼陪你一起度过漫长编程岁月 🌏")]),s._v(" "),a("p",[s._v("😺我的博客："),a("a",{attrs:{href:"https://tuaran.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tuaran.github.io"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("😸公众号：掘金安东尼")]),s._v(" "),a("p",[s._v("😹V我加群一起学习：anthony1453")])]),s._v(" "),a("p",[a("em",[a("strong",[s._v("本文正在参加"),a("a",{attrs:{href:"https://juejin.cn/post/7162096952883019783",title:"https://juejin.cn/post/7162096952883019783",target:"_blank",rel:"noopener noreferrer"}},[s._v("「金石计划 . 瓜分6万现金大奖」"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);n.default=t.exports}}]);