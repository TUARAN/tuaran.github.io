(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{599:function(n,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var n=this,a=n.$createElement,e=n._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("èµ·åˆæœ¬ç“œçœ‹åˆ°"),e("code",[n._v("ã€å•å­ã€‘è¯´ç™½äº†ä¸è¿‡å°±æ˜¯ã€è‡ªå‡½å­èŒƒç•´ã€‘ä¸Šçš„ä¸€ä¸ªã€å¹ºåŠç¾¤ã€‘è€Œå·²ï¼Ÿ")]),n._v("è¿™å¥è¯çš„æ—¶å€™ï¼Œè¿˜ä»¥ä¸ºè‡ªå·±åœ¨çœ‹é‡å­åŠ›å­¦çš„é‡å­çº ç¼ ç›¸å…³å†…å®¹ï¼Œ"),e("strong",[n._v("å•å­ã€å‡½å­")]),n._v("ã€ç²’å­ã€ç»è‰²å­ã€è´¹ç±³å­ã€ç»ç»å­ã€‚ã€‚ã€‚")]),n._v(" "),e("p",[n._v("æ­£å¥½æœ€è¿‘åˆçœ‹åˆ°ä¸€ç¯‡"),e("a",{attrs:{href:"https://www.zhihu.com/question/29620539",target:"_blank",rel:"noopener noreferrer"}},[n._v("ã€Šæ€æ ·ç†è§£â€œèŒƒç•´â€ï¼Ÿã€‹"),e("OutboundLink")],1),n._v("ï¼Œè§£é‡Š "),e("strong",[n._v("â€œèŒƒç•´â€")]),n._v(" éƒ½è¿™ä¹ˆè´¹åŠ²ï¼Ÿè¡¨ç¤ºè„‘ç»†èƒå·²ç»ä¸å¤Ÿç”¨äº†ã€‚ã€‚ã€‚")]),n._v(" "),e("p",[n._v("è‡³äº "),e("strong",[n._v("â€œå¹ºåŠç¾¤â€")]),n._v("ï¼Ÿæ˜¯æ‰“éº»å°†å—ã€‚ã€‚ã€‚")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b681c1ad02704105bb2bce3f91d10030~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),e("p",[n._v("å¥½å®¶ä¼™~ æœ€åï¼Œä½ å‘Šè¯‰æˆ‘è¿™å¥è¯æ˜¯å…³äºå‡½æ•°å¼ç¼–ç¨‹ Monad çš„è§£é‡Šï¼Œç‰›ä½ æ˜¯çœŸæ»´ç‰›ï¼")]),n._v(" "),e("ul",[e("li",[n._v("æ€•ç”Ÿè¯æ¦‚å¿µçš„åŒå­¦å…ˆåˆ«æ…Œï¼Œå…ˆå‘Šè¯‰ä½  Monad å’Œ Promise å¾ˆåƒï¼Œå¢ç‚¹äº²åˆ‡æ„Ÿï¼›ğŸ˜")])]),n._v(" "),e("h2",{attrs:{id:"æµ…å°-monad"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æµ…å°-monad"}},[n._v("#")]),n._v(" æµ…å° Monad")]),n._v(" "),e("p",[n._v("åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­æˆ‘ä»¬ä¸€ç›´å¼ºè°ƒï¼š"),e("strong",[n._v("çº¯å‡½æ•°ã€çº¯å‡½æ•°ã€çº¯å‡½æ•°ï¼æ— å‰¯ä½œç”¨ï¼Œæ— å‰¯ä½œç”¨ï¼Œæ— å‰¯ä½œç”¨ï¼")])]),n._v(" "),e("p",[n._v("ä½†æ˜¯ï¼Œè¦æ±‚æ€»å†™æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨çš„çº¯å‡½æ•°æ˜¯å‡ ä¹ä¸å¯èƒ½çš„ï¼›")]),n._v(" "),e("p",[n._v("HTTP è¯·æ±‚ã€ä¿®æ”¹å‡½æ•°å¤–çš„æ•°æ®ã€è¾“å‡ºæ•°æ®åˆ°å±å¹•æˆ–æ§åˆ¶å°ã€DOMæŸ¥è¯¢/æ“ä½œã€Math.random()ã€è·å–å½“å‰æ—¶é—´ç­‰ï¼Œè¿™äº›æ“ä½œéƒ½ä¼šä½¿å‡½æ•°äº§ç”Ÿå‰¯ä½œç”¨ï¼Œå¯¼è‡´æˆ‘ä»¬è·Ÿè¸ªæ•°æ®çŠ¶æ€å›°éš¾ã€ä»£ç ä¸æ˜“è¯»ï¼›")]),n._v(" "),e("p",[n._v("åˆä½†æ˜¯ï¼æˆ‘ä»¬å³ä½¿ä¸èƒ½ä¸€ç›´å†™çº¯çº¯çš„çº¯å‡½æ•°ï¼Œä¸è¿‡ï¼Œ"),e("strong",[n._v("å°½å¯èƒ½æŠŠè¿™äº›å‰¯ä½œç”¨æ“ä½œæ”¾åœ¨æœ€åå»æ‰§è¡Œï¼ˆå»¶è¿Ÿå¤„ç†ã€æƒ°æ€§å¤„ç†ï¼‰")]),n._v("ï¼Œè¿™ä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¹¦å†™çº¯å‡½æ•°åŸåˆ™ä¹‹ä¸€ï¼")]),n._v(" "),e("p",[n._v("è€Œå®ç°è¿™ç§åšæ³•é çš„å°±æ˜¯ Monadï¼")]),n._v(" "),e("p",[n._v("ç›´æ¥ä¸Šä»£ç ï¼Œçœ‹çœ‹ Monad åœ¨å®é™…åº”ç”¨ä¸­æ˜¯æ€ä¹ˆå†™çš„ï¼š")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('var fs = require("fs");\n\n// çº¯å‡½æ•°ï¼Œä¼ å…¥ filenameï¼Œè¿”å› Monad å¯¹è±¡\nvar readFile = function (filename) {\n  // å‰¯ä½œç”¨å‡½æ•°ï¼šè¯»å–æ–‡ä»¶\n  const readFileFn = () => {\n    return fs.readFileSync(filename, "utf-8");\n  };\n  return new Monad(readFileFn);\n};\n\n// çº¯å‡½æ•°ï¼Œä¼ å…¥ xï¼Œè¿”å› Monad å¯¹è±¡\nvar print = function (x) {\n  // å‰¯ä½œç”¨å‡½æ•°ï¼šæ‰“å°æ—¥å¿—\n  const logFn = () => {\n    console.log(x);\n    return x;\n  };\n  return new Monad(logFn);\n};\n\n// çº¯å‡½æ•°ï¼Œä¼ å…¥ xï¼Œè¿”å› Monad å¯¹è±¡\nvar tail = function (x) {\n  // å‰¯ä½œç”¨å‡½æ•°ï¼šè¿”å›æœ€åä¸€è¡Œçš„æ•°æ®\n  const tailFn = () => {\n    return x[x.length - 1];\n  };\n  return new Monad(tailFn);\n};\n\n// é“¾å¼æ“ä½œæ–‡ä»¶\nconst monad = readFile("./xxx.txt").bind(tail).bind(print);\n// æ‰§è¡Œåˆ°è¿™é‡Œï¼Œæ•´ä¸ªæ“ä½œéƒ½æ˜¯çº¯çš„ï¼Œå› ä¸ºå‰¯ä½œç”¨å‡½æ•°ä¸€ç›´è¢«åŒ…è£¹åœ¨ Monad é‡Œï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œ\nmonad.value(); // æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br")])]),e("ul",[e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/306339035",target:"_blank",rel:"noopener noreferrer"}},[n._v("ä»£ç æ¥æº-å­Ÿæ€è¡Œ"),e("OutboundLink")],1)])]),n._v(" "),e("p",[n._v("æˆ‘ä»¬ç”¨ Monad å°†åŒ…å«å‰¯ä½œç”¨å‡½æ•°å¾—æ“ä½œè¿›è¡Œå°è£…ï¼Œåˆ°ç»‘å®šé“¾å¼æ“ä½œçš„æ—¶å€™ï¼Œéƒ½å¹¶æ²¡æœ‰æ‰§è¡Œä»»ä½•å‰¯ä½œç”¨æ“ä½œï¼›")]),n._v(" "),e("p",[n._v("ç›´åˆ°æœ€åï¼Œè°ƒç”¨ "),e("code",[n._v("monad.value()")]),n._v(" æ‰æ‰§è¡Œäº†è¿™äº›å‰¯ä½œç”¨æ“ä½œï¼›")]),n._v(" "),e("p",[n._v("åœ¨å¤–ç•Œçœ‹æ¥ï¼Œè¢« Monad å‡½æ•°åŒ…è£¹ä½å«å‰¯ä½œç”¨çš„å‡½æ•°ï¼Œæ ¹æœ¬å°±å’Œçº¯å‡½æ•°æ˜¯ä¸€æ ·ä¸€æ ·çš„ï¼Œå› ä¸ºï¼š")]),n._v(" "),e("blockquote",[e("p",[n._v("ä½ æ— æ³•çŸ¥é“ä¸€é—´é»‘è‰²çš„æˆ¿é—´é‡Œé¢æœ‰æ²¡æœ‰ä¸€åªé»‘è‰²çš„çŒ«ï¼›")])]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1c0567d20064cb8b4d673cd2fecaeb8~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),e("p",[n._v("åœ¨ç¼–ç¨‹å¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯å¤šäººåä½œä¸­ï¼Œä¸€ä¸ªæ•°æ®è¦ç»è¿‡å„ç§è®¡ç®—ã€åŠ å…¥å„ç§é€»è¾‘ã€è¿›è¡Œä¸åŒçº¿è·¯çš„å˜å¼‚ï¼Œæœ€åå‘ˆç°ç»™æ¶ˆè´¹æ–¹ï¼›")]),n._v(" "),e("p",[n._v("è¿™ä¸ªæ•°æ®çš„é“¾è·¯"),e("strong",[n._v("è¶Šé•¿ï¼ˆå¤šè®¡ç®—ï¼‰ã€è¶Šå¤šï¼ˆå¤šåˆ†æ”¯ï¼‰ã€è¶Šå¤æ‚ï¼ˆå¤šå¼‚æ­¥ï¼‰")]),n._v("ï¼Œæ•°æ®çš„"),e("strong",[n._v("å…ƒä¿¡æ¯è¶Šå®¹æ˜“ä¸¢å¤±")]),n._v("ï¼Œå°±åƒä¸€å¥è¯ï¼Œç»è¿‡ä¸åŒäººçš„ä¸åŒæ–¹å¼è½¬è¿°åï¼Œä¼šå˜å¾—å’Œåˆå§‹æ„ä¹‰ç›¸å·®ç”šè¿œï¼›")]),n._v(" "),e("p",[n._v("æˆ‘ä»¬è¯•å›¾å°†è®¡ç®—ï¼ˆå‡½å­ï¼‰å’Œä¸šåŠ¡è¾“å‡ºï¼ˆé“¾å¼æ“ä½œï¼‰å‰¥ç¦»å¼€æ¥ï¼Œä¼šè®©è¿™ä¸ªâ€œè½¬è¿°â€è¿‡ç¨‹æ›´å‡†ç¡®ã€æ¸…æ™°ï¼›")]),n._v(" "),e("h2",{attrs:{id:"wiki-ä¸­-monad"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wiki-ä¸­-monad"}},[n._v("#")]),n._v(" wiki ä¸­ Monad")]),n._v(" "),e("p",[n._v("æ²¡é”™ï¼Œä¸Šä¸€å°èŠ‚ä¸­çš„ Monad åªè¯´äº†å®ƒçš„åº”ç”¨ç¤ºä¾‹ï¼Œæ­¤å° bar æ¥çœ‹çœ‹å®ƒåœ¨ wiki ä¸­çš„ã€è¶…å¹²ã€‘å®šä¹‰ï¼š")]),n._v(" "),e("p",[n._v("å•å­ç”± 3 ä¸ªéƒ¨åˆ†ç»„æˆï¼š")]),n._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%B1%BB%E5%9E%8B%E6%9E%84%E9%80%A0%E5%AD%90",title:"ç±»å‹æ„é€ å­",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç±»å‹æ„é€ å­"),e("OutboundLink")],1),n._v(" "),e("code",[n._v("M")]),n._v("ï¼Œå»ºé€ ä¸€ä¸ªå•å­ç±»å‹"),e("code",[n._v("M T")])])]),n._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2",title:"ç±»å‹è½¬æ¢",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç±»å‹è½¬æ¢å­"),e("OutboundLink")],1),n._v("ï¼Œç»å¸¸å«åš"),e("strong",[n._v("unit")]),n._v("æˆ–"),e("strong",[n._v("return")]),n._v("ï¼Œå°†ä¸€ä¸ªå¯¹è±¡"),e("code",[n._v("x")]),n._v("åµŒå…¥åˆ°å•å­ä¸­ï¼š")]),n._v(" "),e("p",[e("code",[n._v("unit(x)Â :: T -> M T")])])]),n._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%BB%84%E5%90%88%E5%AD%90",title:"ç»„åˆå­",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç»„åˆå­"),e("OutboundLink")],1),n._v("ï¼Œå…¸å‹çš„å«åš"),e("strong",[n._v("bind")]),n._v("ï¼ˆ"),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%BA%A6%E6%9D%9F%E5%8F%98%E9%87%8F",title:"çº¦æŸå˜é‡",target:"_blank",rel:"noopener noreferrer"}},[n._v("çº¦æŸå˜é‡"),e("OutboundLink")],1),n._v("çš„é‚£ä¸ªbindï¼‰ï¼Œå¹¶è¡¨ç¤ºä¸º"),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E4%B8%AD%E7%BC%80%E8%A1%A8%E7%A4%BA%E6%B3%95",title:"ä¸­ç¼€è¡¨ç¤ºæ³•",target:"_blank",rel:"noopener noreferrer"}},[n._v("ä¸­ç¼€ç®—å­"),e("OutboundLink")],1),e("code",[n._v(">>=")]),n._v("ï¼Œå»åŒ…è£…ä¸€ä¸ªå•ä½“å˜é‡ï¼Œæ¥ç€æŠŠå®ƒæ’å…¥åˆ°ä¸€ä¸ªå•ä½“å‡½æ•°/è¡¨è¾¾å¼ä¹‹ä¸­ï¼Œç»“æœä¸ºä¸€ä¸ªæ–°çš„å•ä½“å€¼ï¼š")]),n._v(" "),e("p",[e("code",[n._v("(mx >>= f)Â :: (M T, T -> M U) -> M U")])])])]),n._v(" "),e("p",[n._v("åŒæ—¶ï¼Œè¿™ 3 ä¸ªç»„æˆéƒ¨åˆ†è¿˜éœ€éµå¾ª 3 ä¸ªå®šå¾‹ï¼š")]),n._v(" "),e("ul",[e("li",[e("p",[e("code",[n._v("unit")]),n._v("æ˜¯bindçš„"),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%8D%95%E4%BD%8D%E5%85%83",title:"å•æ¯”ç‰¹",target:"_blank",rel:"noopener noreferrer"}},[n._v("å·¦å•æ¯”ç‰¹"),e("OutboundLink")],1),n._v("ï¼š")]),n._v(" "),e("p",[e("code",[n._v("unit(a) >>= Î»x -> f(x)Â â†”Â f(a)")])])]),n._v(" "),e("li",[e("p",[e("code",[n._v("unit")]),n._v("ä¹Ÿæ˜¯bindçš„å³å•æ¯”ç‰¹:")]),n._v(" "),e("p",[e("code",[n._v("ma >>= Î»x -> unit(x)Â â†”Â ma")])])]),n._v(" "),e("li",[e("p",[n._v("bindæœ¬è´¨ä¸Šç¬¦åˆ"),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%BB%93%E5%90%88%E5%BE%8B",title:"ç»“åˆå¾‹",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç»“åˆå¾‹"),e("OutboundLink")],1),n._v("ï¼š")]),n._v(" "),e("p",[e("code",[n._v("ma >>= Î»x -> (f(x) >>= Î»y -> g(y))Â â†”Â (ma >>= Î»x -> f(x)) >>= Î»y -> g(y)")])])])]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08b0d98c444043e498a198d32db28aaa~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),e("p",[n._v("æ²¡çœ‹æ‡‚ï¼Ÿç¡®å®éš¾æ‡‚ï¼æœ¬ç“œå¥½å¥‡ï¼šå½“æˆ‘ä¸æ‡‚ A æ—¶ï¼Œæœ‰äººç”¨ A` æ¥è§£é‡Š Aï¼Œä½†æˆ‘åˆä¸æ‡‚ A`ï¼Œç„¶åå†ç”¨ A_ æ¥è§£é‡Š A`ï¼Œè¿˜æ˜¯æ²¡æ‡‚ï¼Œä¹‹åï¼Œå†ç”¨ A/ ã€AÂ·ã€A+ ......æ¥ä¸€å±‚å¥—ä¸€å±‚è§£é‡Šï¼Œå½“è¿™ä¸ªè§£é‡Šçº¿æ‹‰çš„è¶³å¤Ÿé•¿çš„æ—¶å€™ï¼Œæ˜¯å¦è¿˜èƒ½åšåˆ°ï¼šæœ‰æ•ˆè§£é‡Šï¼ŸğŸ¶")]),n._v(" "),e("p",[n._v("å¯ä»¥ç›´æ¥è¿™æ ·ç†è§£ï¼šMonad æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½æŠŠå€¼è¿›è¡Œ"),e("strong",[n._v("åŒ…è£…")]),n._v("ï¼Œç„¶å"),e("strong",[n._v("é“¾æ¥")]),n._v("æ‰§è¡Œï¼›ç‹å åœ¨"),e("a",{attrs:{href:"https://link.jianshu.com/?t=http://www.yinwang.org/blog-cn/2013/03/31/purely-functional",target:"_blank",rel:"noopener noreferrer"}},[n._v("ã€Šå¯¹å‡½æ•°å¼è¯­è¨€çš„è¯¯è§£ã€‹"),e("OutboundLink")],1),n._v("ä¸­å‡†ç¡®äº†æè¿°äº† Monad æœ¬è´¨ï¼š")]),n._v(" "),e("blockquote",[e("p",[n._v("Monad æœ¬è´¨æ˜¯ä½¿ç”¨ç±»å‹ç³»ç»Ÿçš„â€œé‡è½½â€ï¼ˆoverloadingï¼‰ï¼ŒæŠŠè¿™äº›å¤šå‡ºæ¥çš„å‚æ•°å’Œè¿”å›å€¼ï¼Œæ©ç›–åœ¨ç±»å‹é‡Œé¢ã€‚è¿™å°±åƒæŠŠä¹±ä¸ƒå…«ç³Ÿçš„ç”µçº¿å¡è¿›äº†æ¥çº¿ç›’ä¼¼çš„ï¼Œè™½ç„¶è¡¨é¢ä¸Šçœ‹èµ·æ¥æ¸…çˆ½äº†ä¸€äº›ï¼Œåº•ä¸‹çš„å¤æ‚æ€§å´æ˜¯ä¸å¯èƒ½æ¶ˆé™¤çš„ã€‚")])]),n._v(" "),e("p",[n._v("æ‰€ä»¥ï¼Œåº•ä¸‹çš„å¤æ‚æ€§æ˜¯è‡ªç„¶ã€‚")]),n._v(" "),e("h2",{attrs:{id:"promise-å’Œ-monad"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#promise-å’Œ-monad"}},[n._v("#")]),n._v(" Promise å’Œ Monad")]),n._v(" "),e("p",[n._v("æˆ‘ä»¬å°è¯•ç”¨ JS æ¥æ¨¡æ‹Ÿæœ€åŸºæœ¬çš„ Monadï¼š")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('class Monad {\n  value = "";\n  // æ„é€ å‡½æ•°\n  constructor(value) {\n    this.value = value;\n  }\n  // unitï¼ŒæŠŠå€¼è£…å…¥ Monad æ„é€ å‡½æ•°ä¸­\n  unit(value) {\n    this.value = value;\n  }\n  // bindï¼ŒæŠŠå€¼è½¬æ¢æˆä¸€ä¸ªæ–°çš„ Monad\n  bind(fn) {\n    return fn(this.value);\n  }\n}\n\n// æ»¡è¶³ x-> M(x) æ ¼å¼çš„å‡½æ•°\nfunction add1(x) {\n  return new Monad(x + 1);\n}\n// æ»¡è¶³ x-> M(x) æ ¼å¼çš„å‡½æ•°\nfunction square(x) {\n  return new Monad(x * x);\n}\n\n// æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±èƒ½è¿›è¡Œé“¾å¼è°ƒç”¨äº†\nconst a = new Monad(2)\n     .bind(square)\n     .bind(add1);\n     //...\n\nconsole.log(a.value === 5); // true\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br")])]),e("ul",[e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/306339035",target:"_blank",rel:"noopener noreferrer"}},[n._v("ä»£ç æ¥æº-å­Ÿæ€è¡Œ"),e("OutboundLink")],1)])]),n._v(" "),e("p",[n._v("é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€å¼€å§‹è¯´ Monad å’Œ Promise å¾ˆåƒå‘¢ï¼Ÿ")]),n._v(" "),e("p",[n._v("å¯ä»¥çœ‹åˆ°ï¼Œç¡®å®å¾ˆåƒï¼š")]),n._v(" "),e("ul",[e("li",[n._v("Promise ä¹Ÿæ˜¯æ„é€ å‡½æ•°ï¼›")]),n._v(" "),e("li",[n._v("Promise.Resolve ï¼Œç›¸å½“äº Monad unitï¼Œç”¨äºåŒ…è£…è¿”å›å€¼ï¼›")]),n._v(" "),e("li",[n._v("Promise.prototype.then ç›¸å½“äº Monad bindï¼Œç”¨äºé“¾æ¥æ‰§è¡Œï¼›")])]),n._v(" "),e("p",[n._v("Promise ç­‰æ•ˆäºæŠŠå‡½æ•°è¿›è¡ŒåŒ…è£…ï¼ŒPromise.resolve ç­‰æ•ˆäºæŠŠè¿™ä¸ªåŒ…è£…è¿›è¡Œæ‹†å¼€ï¼Œå°†ä¸ºä¸€ä¸ªæ™®é€šçš„å€¼ï¼›")]),n._v(" "),e("p",[n._v("ä¸è¿‡ï¼ŒPromise ä¸éƒ½æ˜¯ Monadï¼Œç¤ºä¾‹ğŸŒ°")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/904afdf3c79d4e779a5c2fbe7824fd27~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),e("p",[e("code",[n._v("Promise.resolve")]),n._v(" ä¼ å…¥çš„æ˜¯ "),e("code",[n._v("Promise.resovle(1)")]),n._v(" è¿™ä¸ª Promise å¯¹è±¡æ—¶ï¼Œå·²ç»åšäº†è®¡ç®—ï¼Œ"),e("code",[n._v("p.then")]),n._v(" å¤±æ•ˆï¼›")]),n._v(" "),e("p",[n._v("å…³äº Promise å’Œ Monad å†å¼•ç”¨ä¸€ä¸ªå¾ˆæ£’çš„è§£é‡Šï¼ˆå»ºè®®é‡ç‚¹é˜…è¯»ï¼‰ï¼š")]),n._v(" "),e("blockquote",[e("p",[n._v("çº¯å‡½æ•°ä¸èƒ½æœ‰å‰¯ä½œç”¨ï¼Œæ‰€ä»¥æ— æ³•ä¸å¤–éƒ¨è¿›è¡Œ IO æ“ä½œï¼Œä¸èƒ½å­˜åœ¨ a -> IO æˆ– IO -> a è¿™ç§æ“ä½œï¼Œå¿…é¡»ä¸º IO -> IOï¼ˆPromise -> Promiseï¼‰ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»ä¸ºã€Œè‡ªå‡½å­ã€ï¼Œasync å‡½æ•°ä¸­éƒ½æ˜¯è‡ªå‡½å­æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªã€Œè‡ªå‡½å­èŒƒç•´ã€ï¼Œé‚£ä¹ˆç›¸å¯¹çš„ã€Œå¹ºåŠç¾¤ã€å°±æ˜¯Promiseäº†ã€‚")])]),n._v(" "),e("h2",{attrs:{id:"é˜¶æ®µå°ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é˜¶æ®µå°ç»“"}},[n._v("#")]),n._v(" é˜¶æ®µå°ç»“")]),n._v(" "),e("p",[n._v("å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå¤„å¤„éƒ½æ˜¯æƒ°æ€§æ€ç»´çš„ä½“ç°ï¼›\nMonad ä¹Ÿæ˜¯æƒ°æ€§è®¡ç®—çš„å®è·µä¹‹ä¸€ï¼›è‡³äºæ ‡é¢˜ä¸­çš„è¿™å¥è¯ï¼š"),e("code",[n._v("ã€å•å­ã€‘è¯´ç™½äº†ä¸è¿‡å°±æ˜¯ã€è‡ªå‡½å­èŒƒç•´ã€‘ä¸Šçš„ä¸€ä¸ªã€å¹ºåŠç¾¤ã€‘è€Œå·²ï¼Ÿ")]),n._v("å’±ä»¬ä¹Ÿç”¨æƒ°æ€§æ€ç»´å»æ€è€ƒï¼šç°åœ¨å¾ˆéš¾ç†è§£ï¼Œé‚£æˆ‘æ˜¯å¿…é¡»è¦ç°åœ¨å»ç†è§£å—ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£å°±æ”¾åˆ°åé¢éœ€è¦å»ç†è§£çš„æ—¶å€™å†å»ç†è§£å§~~ ä¸è¿‡è‡³å°‘ï¼Œä¹Ÿè¦å‹¾å‹’ä¸€ä¸‹ Monad å’Œ Promise å…³ç³»çš„å¤§è‡´è½®å»“ï¼›Promise æ˜¯ JS äººçš„æµªæ¼«ï¼Monad æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æµªæ¼«ï¼")]),n._v(" "),e("p",[n._v("åç»­è¿˜ä¼šå¸¦æ¥å„ç±»å•å­ä»‹ç»ï¼Œå»ºè®®ç»“åˆ"),e("a",{attrs:{href:"https://juejin.cn/column/6960836897669120036",target:"_blank",rel:"noopener noreferrer"}},[n._v("ä¸“æ "),e("OutboundLink")],1),n._v("å†…å®¹ï¼Œè”ç³»å‰åé£Ÿç”¨~")]),n._v(" "),e("p",[n._v("ä»¥ä¸Šã€‚")]),n._v(" "),e("p",[n._v("æ’°æ–‡ä¸æ˜“ï¼Œç‚¹èµé¼“åŠ±ğŸ‘ğŸ‘ğŸ‘")]),n._v(" "),e("blockquote",[e("p",[n._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ï¼Œå…¬ä¼—å·åŒåï¼Œè¾“å‡ºæš´éœ²è¾“å…¥ï¼ŒæŠ€æœ¯æ´è§ç”Ÿæ´»ï¼Œå†ä¼šï¼")])]),n._v(" "),e("h2",{attrs:{id:"æ¨èé˜…è¯»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¨èé˜…è¯»"}},[n._v("#")]),n._v(" æ¨èé˜…è¯»")]),n._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.yinwang.org/blog-cn/2013/03/31/purely-functional",target:"_blank",rel:"noopener noreferrer"}},[n._v("å‡½æ•°å¼è¯­è¨€çš„å®—æ•™"),e("OutboundLink")],1)]),n._v(" "),e("li",[e("a",{attrs:{href:"https://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("å›¾è§£ Monad"),e("OutboundLink")],1)]),n._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/56810671",target:"_blank",rel:"noopener noreferrer"}},[n._v("JS ä¸­ Monad"),e("OutboundLink")],1)]),n._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/306339035",target:"_blank",rel:"noopener noreferrer"}},[n._v("å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹ Monad"),e("OutboundLink")],1)]),n._v(" "),e("li",[e("a",{attrs:{href:"https://gist.github.com/clausreinke/5984869",target:"_blank",rel:"noopener noreferrer"}},[n._v("monadic.ts"),e("OutboundLink")],1)]),n._v(" "),e("li",[e("a",{attrs:{href:"https://www.zhihu.com/question/22291305/answer/730890410",target:"_blank",rel:"noopener noreferrer"}},[n._v("å¦‚ä½•è§£é‡Š Haskell ä¸­çš„å•å­ï¼ˆMonadï¼‰"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);