(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{741:function(n,s,a){"use strict";a.r(s);var e=a(2),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("p",[n._v("æºæ‰‹åˆ›ä½œï¼Œå…±åŒæˆé•¿ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 8 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬19å¤©ï¼Œ"),a("a",{attrs:{href:"https://juejin.cn/post/7123120819437322247",title:"https://juejin.cn/post/7123120819437322247",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç‚¹å‡»æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…"),a("OutboundLink")],1)]),n._v(" "),a("hr"),n._v(" "),a("p",[n._v("å‡è½»é˜…è¯»è´Ÿæ‹…ï¼Œå¯å‘åˆ›ä½œå¿ƒæ™ºï¼Œè½»æ¾å­¦ä¹  JavaScript æŠ€å·§ï¼Œæ—¥æ‹±ä¸€å’ï¼Œjymï¼Œå†²~")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5baeb2f877364de68cd24b2c62fdca1f~tplv-k3u1fbpfcp-watermark.image?",alt:"take-it-easy-relax.gif"}})]),n._v(" "),a("p",[n._v("æœ¬ç¯‡å¸¦æ¥ â€”â€” JavaScript å‰ªè´´æ¿ Clipboard çš„é‚£äº›äº‹å„¿ï¼")]),n._v(" "),a("hr"),n._v(" "),a("p",[n._v("å¤åˆ¶ç²˜è´´å°±æ˜¯äº’è”ç½‘æœ€ä¼Ÿå¤§çš„å‘æ˜ï¼Œæ— è®ºæ˜¯ä½¿ç”¨å¿«æ·é”® ctrl c ã€ctrl vï¼Œè¿˜æ˜¯é¼ æ ‡é€‰ä¸­å³é”®å¤åˆ¶å†ç²˜è´´ï¼ŒCopy æ“ä½œéƒ½æ˜¯éå¸¸ç®€å•çš„ã€‚")]),n._v(" "),a("p",[n._v("ç„¶è€Œè¦æ³¨æ„çš„æ˜¯ï¼Œä½ çš„å‰ªè´´æ¿ Clipboard æˆ–è®¸åœ¨è¢«æœ‰äº›è½¯ä»¶æ— æ—¶æ— åˆ»çš„ç›‘å¬ç€ï¼Œæœ‰æ—¶å€™åœ¨çŸ¥ä¹ä¸Šæœçš„ä¸œè¥¿ï¼Œæœ€ç»ˆå‡ºç°åœ¨äº†äº¬ä¸œå•†å“çš„æ¨èé¡µé‡Œï¼Œè®©äººä¸ç¦æ‰“ä¸ªå†·æˆ˜ï¼Œç–‘é—®é“ï¼šå®ƒæ€ä¹ˆçŸ¥é“æˆ‘æƒ³ä¹°è¿™ä¸ªä¸œè¥¿çš„ï¼Ÿ")]),n._v(" "),a("p",[n._v("åœ¨ JavaScript ä¸­ "),a("code",[n._v("navigator.clipboard")]),n._v(" å…¨å±€å¯¹è±¡å°±æ˜¯æ¥å¤„ç†å‰ªè´´æ¿çš„ï¼Œå®ƒæœ‰ä»¥ä¸‹æ–¹æ³•ï¼š")]),n._v(" "),a("ul",[a("li",[n._v("readText: è¯»æ–‡æœ¬")]),n._v(" "),a("li",[n._v("read: è¯»ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œé™¤æ–‡æœ¬å¤–è¿˜æœ‰å›¾ç‰‡è¿™äº›ï¼›")]),n._v(" "),a("li",[n._v("writeText: å†™æ–‡æœ¬")]),n._v(" "),a("li",[n._v("write: å†™ä»»ä½•æ•°æ®ï¼›")])]),n._v(" "),a("p",[n._v("æ¥ä¸‹æ¥æˆ‘ä»¬å®æˆ˜æ¥çœ‹çœ‹ "),a("code",[n._v("navigator.clipboard")]),n._v(" çš„ä»£ç åº”ç”¨ï¼š")]),n._v(" "),a("h2",{attrs:{id:"å†™å…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†™å…¥"}},[n._v("#")]),n._v(" å†™å…¥")]),n._v(" "),a("p",[n._v("åŸç”Ÿ JS å®ç°å°†æ•°æ®å†™å…¥å‰ªè´´æ¿ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<html>\n    <head>\n        <script >\n            async function copyText() {\n                let textArea = document.getElementById("myText")\n\n                const permission = await navigator.permissions.query({ name: \'clipboard-write\' });\n                if (permission.state === \'denied\') {\n                    return console.error("Damn, we don\'t have permissions to do this")\n                }\n                try {\n                    await navigator.clipboard.writeText(textArea.value) // å†™å…¥æ–‡æœ¬\n                    console.log("done!")\n                } catch (e) {\n                    console.error("Error while copying text!")\n                    console.error(e.message)\n                }\n\n            }\n        <\/script>\n    </head>\n    <body>\n        <textarea rows="5" cols="89" id="myText"></textarea>\n        <button onclick="copyText()">Share!</button>\n    </body>\n</html>\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br")])]),a("p",[n._v("è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æˆ‘ä»¬å†™å…¥ä¹‹å‰è¦è®¿é—® "),a("code",[n._v("navigator.permissions.query({ name: 'clipboard-write' });")]),n._v(" ç”¨äºæå‰åˆ¤æ–­æˆ‘ä»¬æ˜¯å¦æœ‰æƒé™å»åšå†™å…¥æ“ä½œã€‚")]),n._v(" "),a("p",[n._v("é™¤äº†å†™å…¥æ–‡æœ¬ï¼Œè¿˜å¯ä»¥å†™å…¥å›¾ç‰‡ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<html>\n    <head>\n        <script >\n            async function copyImg() {\n                const type = "image/png";\n\n                let myImg = document.getElementById("myImage")\n\n                let img = await fetch(myImg.getAttribute("src"))\n\n                var blob = new Blob([await img.blob()], { type });\n                var data = [new ClipboardItem({ [type]: blob })];\n\n                try {\n                    await navigator.clipboard.write(data)\n                    console.log("The image was copied")\n                } catch (e) {\n                    console.error("There was a problem copying the imagge")\n                    console.error(e)\n                }\n            }\n        <\/script>\n    </head>\n    <body>\n        <img src="./img.png" width="300" id="myImage" />\n        <button onclick="copyImg()">Share!</button>\n    </body>\n</html>\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br")])]),a("p",[n._v("ä¸æ–‡æœ¬ç¨æœ‰ä¸åŒçš„æ˜¯æˆ‘ä»¬è¦åŒ…è£…ä¸€ä¸ª ClipboardItem æ•°ç»„ï¼›")]),n._v(" "),a("h2",{attrs:{id:"è¯»å–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯»å–"}},[n._v("#")]),n._v(" è¯»å–")]),n._v(" "),a("p",[n._v("ä¸å†™å…¥æ•°æ®å¯¹åº”çš„å°±æ˜¯è¯»å–æ•°æ®ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("<html>\n<head>\n    <script >\n        async function pasteImage() {\n            let destinationImage = document.getElementById(\"myImage\")\n            const permission = await navigator.permissions.query({ name: 'clipboard-read' });\n            if (permission.state === 'denied') {\n                throw new Error('Not allowed to read clipboard.');\n            }\n            const clipboardContents = await navigator.clipboard.read();\n            for (const item of clipboardContents) {\n                if (!item.types.includes('image/png')) {\n                    throw new Error('Clipboard contains non-image data.');\n                }\n                const blob = await item.getType('image/png');\n                destinationImage.src = URL.createObjectURL(blob);\n            }\n        }\n        \n    <\/script>\n</head>\n<body>\n    <img  width=\"300\" id=\"myImage\" />\n    <button onclick=\"pasteImage()\">Get Image!</button>\n</body>\n</html>\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br")])]),a("p",[n._v("åŒæ ·éœ€è¦å…ˆç¡®è®¤æ˜¯å¦æœ‰æƒé™è¯»å–ï¼š"),a("code",[n._v("navigator.permissions.query({ name: 'clipboard-read' })")])]),n._v(" "),a("p",[n._v("è¯»å–å›¾ç‰‡è¦ç”¨åˆ°ï¼š"),a("code",[n._v("URL.createObjectURL")]),n._v(" æ–¹æ³•ã€‚")]),n._v(" "),a("h2",{attrs:{id:"æ··æ·†å‰ªè´´å†…å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ··æ·†å‰ªè´´å†…å®¹"}},[n._v("#")]),n._v(" æ··æ·†å‰ªè´´å†…å®¹")]),n._v(" "),a("p",[n._v("è¿™é‡Œå†æä¾›ä¸€ä¸ªå°æŠ€å·§ï¼šå‡è®¾æˆ‘ä»¬ä¸æƒ³è‡ªå·±çš„æ–‡æœ¬å†…å®¹è¢«å¤åˆ¶ï¼Œé™¤äº†ç¦æ­¢å¤åˆ¶ä»¥å¤–ï¼Œè¿˜å¯ä»¥ç”¨ JS è„šæœ¬è®¾ç½®ç»™å®ƒèµ‹å€¼ä¸€ä¸ªå†…å®¹æ··æ·†è¿‡çš„å†…å®¹ã€‚")]),n._v(" "),a("p",[n._v("ä»£ç å¦‚ä¸‹ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<html>\n<head>\n    <script >\n        function setUpEvent() {\n            let mainContent = document.getElementById("main-content")\n\n            mainContent.addEventListener(\'copy\', function(evt) {\n                let selectedText = document.getSelection()\n                selectedText = selectedText\n                                .toString()\n                                .split("") //turn it into an array of characters\n                                .sort((a,b) => Math.random() > 0.5?1:-1) //shuffle the array\n                                .join("") //join it back into a single string\n                evt.clipboardData.setData("text/plain", selectedText) //set the clipboard\'s data\n                evt.preventDefault()\n            })\n        }\n        \n    <\/script>\n</head>\n<body onload="setUpEvent()">\n    <p id="main-content">\n    For this example, I\'m using the HTML IMG tag just to get the src atttribute, since I can\'t really use the element directly. The API needs me to turn the image into a Blob (which is essentially a way of saying "It\'s a big chunk of I don\'t know exactly"). And since the DOM API doesn\'t have any methods I can use, I\'m fetching the actual image and the calling the blob method on the response object (line 11).\nThe rest is as expected, I create a one-element array with a ClipboardItem containing the blob, and the I write the array into the clipboard.\nYou can use the above example to extrapolate how you would go about copying something else, like an XLS file. You need to fetch it, blob it, and make sure you used the right mime-type, which is the string I have on the type variable. If you don\'t know what\'s the mime-type for your file, just Google "mime-type for <your file\'s extension here>" and you\'ll have it.\n    </p>\n</body>\n</html>\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br")])]),a("p",[n._v("æˆ‘ä»¬å¯ä»¥åœ¨ https://www.runoob.com/runcode å³æ—¶è¿è¡Œè¿™æ®µä»£ç çœ‹çœ‹æ··æ·†åçš„å‰ªè´´æ¿çš„å†…å®¹ï¼š")]),n._v(" "),a("p",[n._v("ç²˜è´´å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0ffb2dbcd7741ddae8962a9a48e1c78~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),a("p",[n._v("ä¸»è¦ç”¨åˆ°äº†éšæœºæ•°å»æ‰“ä¹±å†…å®¹ã€‚")]),n._v(" "),a("p",[n._v("æŒºæœ‰æ„æ€çš„ï¼Œä¸æ˜¯è®©äººä¸èƒ½å¤åˆ¶ï¼Œè€Œæ˜¯è®©äººå¤åˆ¶ä¸€ä¸ªä¹±åºçš„ç»“æœï¼ŒClipboard ä¹Ÿèƒ½è¿™æ ·ç©å„¿~~")]),n._v(" "),a("blockquote",[a("p",[n._v("OKï¼Œä»¥ä¸Šä¾¿æ˜¯æœ¬ç¯‡åˆ†äº«ã€‚ç‚¹èµå…³æ³¨è¯„è®ºï¼Œä¸ºå¥½æ–‡åŠ©åŠ›ğŸ‘")]),n._v(" "),a("p",[n._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ ğŸ¤  100 ä¸‡äººæ°”å‰ç«¯æŠ€æœ¯åšä¸» ğŸ’¥ INFP å†™ä½œäººæ ¼åšæŒ 1000 æ—¥æ›´æ–‡ âœ å…³æ³¨æˆ‘ï¼Œå®‰ä¸œå°¼é™ªä½ ä¸€èµ·åº¦è¿‡æ¼«é•¿ç¼–ç¨‹å²æœˆ ğŸŒ")])])])}),[],!1,null,null,null);s.default=t.exports}}]);