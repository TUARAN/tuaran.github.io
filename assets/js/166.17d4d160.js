(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{662:function(a,s,e){"use strict";e.r(s);var n=e(2),t=Object(n.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("ã€Œè¿™æ˜¯æˆ‘å‚ä¸2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜çš„ç¬¬22å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š"),e("a",{attrs:{href:"https://juejin.cn/post/7052884569032392740",target:"_blank",rel:"noopener noreferrer"}},[a._v("2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜"),e("OutboundLink")],1),a._v("ã€")]),a._v(" "),e("hr"),a._v(" "),e("p",[a._v("ECMAScript 2022 å°†äºä»Šå¹´ 6 æœˆå‘å¸ƒï¼Œæœ¬ç¯‡å¸¦æ¥ ES2022 "),e("strong",[a._v("è‚¯å®š")]),a._v("ä¼šå‡ºç°çš„æœ€é‡è¦çš„ 4 ä¸ªå˜åŒ–ï¼å› ä¸ºè¿™äº›ç‰¹æ€§å·²ç»è¿›å…¥äº† TC39 æ ‡å‡†åŒ–å‘å¸ƒçš„ "),e("a",{attrs:{href:"https://tc39.es/process-document/",target:"_blank",rel:"noopener noreferrer"}},[a._v("ç¬¬ 4 ä¸ªé˜¶æ®µ"),e("OutboundLink")],1),a._v(" äº†ã€‚")]),a._v(" "),e("blockquote",[e("p",[a._v("TC39 æ‰€å±äº Ecma Internationalï¼Œæ˜¯ä¸€ä¸ªç”± JavaScript å¼€å‘è€…ã€å®ç°è€…ã€å­¦è€…ç­‰ç»„æˆçš„å›¢ä½“ï¼Œä¸ JavaScript ç¤¾åŒºåˆä½œç»´æŠ¤å’Œå‘å±• JavaScript çš„æ ‡å‡†ã€‚")])]),a._v(" "),e("p",[a._v("é—²è¨€å°‘å™ï¼Œå†²é¸­~~")]),a._v(" "),e("h2",{attrs:{id:"at-æ–¹æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#at-æ–¹æ³•"}},[a._v("#")]),a._v(" at() æ–¹æ³•")]),a._v(" "),e("p",[a._v("ç»ˆäºï¼ES2022 æ•°ç»„æ–°å¢ä¸€ä¸ª at() æ–¹æ³•ï¼Œç”¨äºæ ¹æ®ç´¢å¼•å»å–å€¼ï¼›")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var a = [1, 2, 3]; \n\na.at(1) // 2 \n\na.at(-1) // 3\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ "),e("code",[a._v("a.at(-1)")]),a._v(" æ‹¿åˆ°å€’æ•°ç¬¬ä¸€é¡¹ï¼›")]),a._v(" "),e("p",[a._v("è€Œåœ¨è¿™ä¹‹å‰ï¼Œæ‹¿æ•°ç»„/å­—ç¬¦ä¸²æœ€åä¸€é¡¹æ˜¯è¿™æ ·çš„ï¼š")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const arr = [1,2,3,4]\narr[arr.length - 2] // 3\narr.slice(-2)[0]    // 3\n\nconst str = \"1234\"\nstr[str.length - 2] // '3'\nstr.slice(-2)[0]    // '3'\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("è™½ç„¶è¿™æ˜¯ä¸€ä¸ªå°çš„åŠŸèƒ½æ”¹åŠ¨ï¼Œä½†æ˜¯å¾ˆå¤§çš„æé«˜äº† æ•°ç»„/å­—ç¬¦ä¸² æ ¸å¿ƒæ“ä½œçš„å¯è¯»æ€§ï¼›")]),a._v(" "),e("h2",{attrs:{id:"error-cause"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-cause"}},[a._v("#")]),a._v(" Error cause")]),a._v(" "),e("p",[a._v("ğŸ‰Error cause æ˜¯ç¬¬ä¸€ä¸ªç”±ä¸­å›½å…¬å¸ï¼ˆé˜¿é‡Œå·´å·´ TC39 ä»£è¡¨ "),e("a",{attrs:{href:"https://github.com/legendecas",target:"_blank",rel:"noopener noreferrer"}},[a._v("legendecas"),e("OutboundLink")],1),a._v("ï¼‰ä»£è¡¨ä¸»å¯¼æ¨åŠ¨çš„ JavaScript è¾¾åˆ° stage 4 çš„æ–°ç‰¹æ€§ææ¡ˆï¼")]),a._v(" "),e("p",[a._v("è¿™ä¸ªææ¡ˆç®€å•ç†è§£å°±æ˜¯ï¼šå¯¹ Error çš„æ¥æºè¿›è¡Œä¸€æ¬¡å†åŒ…è£…ï¼›")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("try {\n  doSomeComputationThatThrowAnError() \n} catch (error) {\n  throw new Error('I am the result of another error', { cause: error })\n}\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("Error Constructor æ–°å¢äº†ä¸€ä¸ªå¯é€‰çš„å‚æ•° optionsï¼Œå…¶ä¸­å¯ä»¥è®¾ç½®Â "),e("code",[a._v("cause")]),a._v("Â å¹¶ä¸”æ¥å—ä»»æ„ JavaScript å€¼ï¼ŒæŠŠè¿™ä¸ªå€¼èµ‹å€¼åˆ°æ–°åˆ›å»ºçš„Â "),e("code",[a._v("error.cause")]),a._v("Â ä¸Šã€‚")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("try {\n  return await fetch('//unintelligible-url-a') // æŠ›å‡ºä¸€ä¸ª low level é”™è¯¯\n    .catch(err => {\n      throw new Error('Download raw resource failed', { cause: err }) // å°† low level é”™è¯¯åŒ…è£…æˆä¸€ä¸ª high levelã€æ˜“æ‡‚çš„é”™è¯¯\n    })\n} catch (err) {\n  console.log(err)\n  console.log('Caused by', err.cause)\n  // Error: Download raw resource failed\n  // Caused by TypeError: Failed to fetch\n}\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br")])]),e("h2",{attrs:{id:"é¡¶å±‚-await"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é¡¶å±‚-await"}},[a._v("#")]),a._v(" é¡¶å±‚ await")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/tc39/proposal-top-level-await",target:"_blank",rel:"noopener noreferrer"}},[a._v("é¡¶å±‚ await"),e("OutboundLink")],1),a._v("Â å…è®¸å¼€å‘è€…åœ¨Â "),e("code",[a._v("async")]),a._v("Â å‡½æ•°å¤–éƒ¨ä½¿ç”¨Â "),e("code",[a._v("await")]),a._v("Â å­—æ®µã€‚")]),a._v(" "),e("p",[a._v("ä»¥å‰ï¼š")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("await Promise.resolve(console.log('ğŸ‰'));\n// â†’ SyntaxError: await is only valid in async function\n\n(async function () {\n  await Promise.resolve(console.log('ğŸ‰'));\n  // â†’ ğŸ‰\n})();\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("ES2022:")]),a._v(" "),e("p",[a._v("é¡¶å±‚Â "),e("code",[a._v("await")]),a._v("Â èƒ½åœ¨æ¨¡å— "),e("a",{attrs:{href:"https://v8.dev/features/modules",target:"_blank",rel:"noopener noreferrer"}},[a._v("modules"),e("OutboundLink")],1),a._v(" çš„é¡¶å±‚æ­£å¸¸å·¥ä½œã€‚ï¼ˆåœ¨ class ä»£ç å—æˆ–éÂ "),e("code",[a._v("async")]),a._v("Â å‡½æ•°ä»ä¸æ”¯æŒã€‚ï¼‰")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const serviceName = await fetch(\"https://example.com/what-service-should-i-use\")\nconst service = await import(`/services/${serviceName}.js`)\n\n// OR\n\nconst params = new URLSearchParams(location.search);\nconst theme = params.get('theme');\nconst stylingFunctions = await import(`/styling-functions-${theme}.js`);\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br")])]),e("p",[a._v("ä¹Ÿæ”¯æŒæ¡ä»¶å¯¼å…¥ï¼š")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const date = new Date()\n\nif(date.getFullYear() === 2023) {\n  await require('/special-code-for-2023-year.js')\n}\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[e("a",{attrs:{href:"https://tie.pub/2019/11/top-level-await/",target:"_blank",rel:"noopener noreferrer"}},[a._v("äº†è§£æ›´å¤š"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"ç§æœ‰å±æ€§å’Œæ–¹æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç§æœ‰å±æ€§å’Œæ–¹æ³•"}},[a._v("#")]),a._v(" ç§æœ‰å±æ€§å’Œæ–¹æ³•")]),a._v(" "),e("p",[e("strong",[a._v("ç±»")]),a._v(" çš„æ¦‚å¿µè™½ç„¶åœ¨ ES6 å°±è¢«æå‡ºï¼Œä½†æ˜¯å®ƒçš„å¼€å‘ç¨‹åº¦è¿œä½äºé¢å‘å¯¹è±¡è¯­è¨€ï¼Œæœ‰äº›æ–°çš„ç‰¹æ€§å°†åŠ å…¥ JSï¼Œæ¯”å¦‚ â€”â€” ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼›")]),a._v(" "),e("p",[a._v("å®ƒä»¬ç”¨ "),e("code",[a._v("#")]),a._v(" è¿›è¡Œæ ‡è®°ï¼Œåœ¨ç±»å¤–éƒ¨è®¿é—®æ—¶ï¼Œä¼šæŠ¥é”™ï¼›")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("class Human {\n  #name = \"John\";\n  \n  setName(name) {\n    this.#name = name;\n  }\n}\n\nconst human = new Human()\nhuman.#name = 'Amy'  // ERROR!\nhuman.setName('Amy') // OK\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("class Human {\n  name = \"John\";\n  \n  constructor(name) {\n    this.#setName('Amy') // OK\n  }\n  \n  #setName(name) {\n    this.name = name;\n  }\n}\n\nconst human = new Human()\nhuman.#setName('Amy') // ERROR!\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br")])]),e("hr"),a._v(" "),e("p",[a._v("OKï¼Œä»¥ä¸Šï¼Œä¾¿æ˜¯æœ¬ç¯‡åˆ†äº«~~ è¶³å¤Ÿç®€æ˜æ‰¼è¦å§~~")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9fe30a9be984fd88c1b1ca11014936f~tplv-k3u1fbpfcp-watermark.image?",alt:"a930a5381a110a0d09118ea234439f40.gif"}})]),a._v(" "),e("blockquote",[e("p",[a._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ï¼Œè¾“å‡ºæš´éœ²è¾“å…¥ï¼ŒæŠ€æœ¯æ´è§ç”Ÿæ´»ï¼Œå†ä¼š~")])])])}),[],!1,null,null,null);s.default=t.exports}}]);