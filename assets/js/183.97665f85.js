(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{680:function(s,n,e){"use strict";e.r(n);var a=e(2),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("çœ‹åˆ°æ ‡é¢˜ï¼Œxdm å¯èƒ½æœ‰ç‚¹æ‡µï¼Ÿæ²¡å…³ç³»ï¼Œçœ‹å®Œæœ¬ç¯‡ï¼Œå°±ä¼šæœ‰ç§è±ç„¶å¼€æœ—çš„æ„Ÿè§‰~")]),s._v(" "),e("p",[s._v("è¿™é‡Œçš„ "),e("strong",[s._v("è¢«è§‚å¯Ÿè€…")]),s._v(" æŒ‡çš„æ˜¯ï¼šObserver Patternï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰ä¸­çš„è¢«è§‚å¯Ÿå¯¹è±¡ï¼›")]),s._v(" "),e("p",[e("strong",[s._v("è¿­ä»£è€…")]),s._v(" è¿™æŒ‡çš„æ˜¯ï¼šIterator Patternï¼ˆè¿­ä»£å™¨æ¨¡å¼ï¼‰ä¸­çš„è¿­ä»£å¯¹è±¡ï¼›")]),s._v(" "),e("p",[s._v("æ²¡é”™ï¼Œæ¥ä¸‹æ¥ï¼Œå°†åˆ†åˆ«è§£æè¿™ä¸¤ç§æ¨¡å¼ï¼Œå†² ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†—")]),s._v(" "),e("h2",{attrs:{id:"è¢«è§‚å¯Ÿè€…"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è¢«è§‚å¯Ÿè€…"}},[s._v("#")]),s._v(" è¢«è§‚å¯Ÿè€…")]),s._v(" "),e("p",[s._v("è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸¸è§ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function clickHandler(event) {\n    console.log('user click!');\n} \n\ndocument.body.addEventListener('click', clickHandler)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("ä»¥ä¸Šä»£ç ä¸­ï¼Œè¢«è§‚å¯Ÿè€…æ˜¯ "),e("code",[s._v("document.body")]),s._v("ï¼Œå®ƒä¸»åŠ¨æ³¨å†Œäº†ä¸€ä¸ªç›‘å¬æ–¹æ³•æ¥ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œä¸€æ—¦å‘ç”Ÿç‚¹å‡»ï¼Œå°±æŠŠ event ä¿¡æ¯å¸¦ç»™ "),e("code",[s._v("clickHandler")]),s._v(" æ–¹æ³•ï¼Œç„¶åæ‰§è¡Œï¼›è¿™ä¾¿æ˜¯è§‚å¯Ÿè€…æ¨¡å¼~")]),s._v(" "),e("p",[s._v("é™¤äº†ç”¨åŸç”Ÿ api "),e("code",[s._v("addEventListener")]),s._v("ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªæ›´åŠ è§£è€¦çš„ç›‘å¬æ–¹æ³•ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("class Subject { // è¢«è§‚å¯Ÿè€…å¯¹è±¡\n\n    constructor() {\n        this.listeners = []; \n    } \n    \n    addListener(listener) { // åŠ å…¥ç›‘å¬\n        if(typeof listener === 'function') { \n            this.listeners.push(listener) \n        } else { \n            throw new Error('listener å¿…é ˆæ˜¯ function')\n        } \n    } \n    \n    removeListener(listener) { // ç§»é™¤ç›‘å¬\n        this.listeners.splice(this.listeners.indexOf(listener), 1) \n    } \n    \n    notify(message) { // å‘é€é€šçŸ¥\n        this.listeners.forEach(listener => { \n             listener(message); \n        }) \n    } \n    \n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("p",[s._v("æ„å»ºå®ä¾‹ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var sub = new Subject(); // new ä¸€ä¸ª ob å®ä¾‹\n\nfunction listener1(message) { \n    console.log(message + 'from listener1'); \n} \n\nfunction listener2(message) { \n    console.log(message + 'from listener2');\n\n} \n\nsub.addListener(listener1); // åŠ ç›‘å¬1\n\nsub.addListener(listener2); // åŠ ç›‘å¬2\n\nsub.notify('I push a commit ') // push ä¿¡æ¯ç»™ç›‘å¬å™¨1ã€2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("p",[s._v("æ¯å½“ "),e("code",[s._v("notify")]),s._v(" æ‰§è¡Œï¼Œsub éƒ½ä¼šæ¨é€ä¿¡æ¯ç»™ "),e("code",[s._v("listener1")]),s._v(" å’Œ "),e("code",[s._v("listener2")]),s._v("ï¼›")]),s._v(" "),e("p",[s._v("è¢«è§‚å¯Ÿè€…ä¼šä¸»åŠ¨ push ä¿¡æ¯ï¼ˆæˆ–è€…ç§°ä¸ºæ•°æ®ï¼‰ç»™å¤šä¸ªè§‚å¯Ÿå®ƒçš„å¯¹è±¡ï¼ˆç›‘å¬å™¨ï¼‰ï¼Œå°±æ˜¯å…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚")]),s._v(" "),e("p",[s._v("é¢˜å¤–è¯´ä¸€å¥ï¼šå¾ˆå¤š xd ä¼šæŠŠã€è§‚å¯Ÿè€…æ¨¡å¼ã€‘å’Œã€å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‘å¼„æ··ï¼Œè¿™é‡Œç‰¹æ„è¯´æ˜ä¸€ä¸‹ï¼ŒäºŒè€…åŒºåˆ«åœ¨äºï¼š")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("è§‚å¯Ÿè€…æ¨¡å¼åªéœ€è¦ 2 ä¸ªè§’è‰²ä¾¿å¯æˆå‹ï¼Œå³Â è§‚å¯Ÿè€…Â å’Œ è¢«è§‚å¯Ÿè€…Â ï¼Œå…¶ä¸­ è¢«è§‚å¯Ÿè€… æ˜¯é‡ç‚¹ã€‚")])]),s._v(" "),e("li",[e("p",[s._v("è€Œå‘å¸ƒè®¢é˜…éœ€è¦è‡³å°‘ 3 ä¸ªè§’è‰²æ¥ç»„æˆï¼ŒåŒ…æ‹¬Â å‘å¸ƒè€…Â ã€Â è®¢é˜…è€…Â å’ŒÂ å‘å¸ƒè®¢é˜…ä¸­å¿ƒ ï¼Œå…¶ä¸­Â å‘å¸ƒè®¢é˜…ä¸­å¿ƒ æ˜¯é‡ç‚¹ã€‚")])])]),s._v(" "),e("h2",{attrs:{id:"è¿­ä»£è€…"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è¿­ä»£è€…"}},[s._v("#")]),s._v(" è¿­ä»£è€…")]),s._v(" "),e("p",[s._v("JS Iteratorï¼ˆè¿­ä»£å™¨ï¼‰æˆ‘ä»¬ä¹Ÿå¹¶ä¸é™Œç”Ÿï¼Œå®ƒåœ¨ ES6 è¢«æå‡ºï¼š")]),s._v(" "),e("p",[s._v("ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var arr = [1, 2, 3];\n\nvar iterator = arr[Symbol.iterator]();\n\niterator.next();\n// { value: 1, done: false }\n\niterator.next();\n// { value: 2, done: false }\n\niterator.next();\n// { value: 3, done: false }\n\niterator.next();\n// { value: undefined, done: true }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("Iterator æœ€å¤§çš„é­…åŠ›åœ¨äº "),e("strong",[s._v("å»¶è¿Ÿè®¡ç®—")]),s._v("ï¼Œå…³äºè¿™ç‚¹ï¼Œåœ¨æœ¬ç“œä»¥å‰çš„æ–‡ç« å¯ä»¥æ‰¾åˆ°ä¸€äº›ç›¸å…³è®¨è®ºï¼š")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.cn/post/7012119635516456967",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä½ è§‰å¾—â€œæƒ°æ€§æ±‚å€¼â€åœ¨ JS ä¸­ä¼šæ€ä¹ˆå®ç°ï¼Ÿ"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.cn/post/7010532564817412109",target:"_blank",rel:"noopener noreferrer"}},[s._v("å¬å›ä¸€å¸­è¯ï¼Œå¦‚å¬ä¸€å¸­è¯ï¼Œè§£é‡Šè§£é‡Šâ€œæƒ°æ€§æ±‚å€¼â€~"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("ä¸¾ä¸ªæ —å­ğŸŒ°")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function* getNumbers(words) {\n\t\tfor (let word of words) {\n\t\t\tif (/^[0-9]+$/.test(word)) {\n\t\t\t    yield parseInt(word, 10);\n\t\t\t}\n\t\t}\n}\n\nconst iterator = getNumbers('ä»Šå¤©æ˜¯ 3 æœˆ 8 å·');\n\niterator.next();\n// { value: 3, done: false }\niterator.next();\n// { value: 8, done: false }\niterator.next();\n// { value: undefined, done: true }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("p",[e("code",[s._v("getNumbers")]),s._v(" æ–¹æ³•ç”¨äºè·å–å­—ç¬¦ä¸²é‡Œé¢çš„æ•°å­—ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ "),e("code",[s._v("iterator = getNumbers('ä»Šå¤©æ˜¯ 3 æœˆ 8 å·')")]),s._v(" è¿™ä¸€å¥ä»£ç æ—¶ï¼Œç¨‹åºå¹¶æ²¡æœ‰å¼€å§‹è®¡ç®—ï¼Œç›´åˆ°æˆ‘ä»¬é€ä¸ªæ‰§è¡Œ "),e("code",[s._v("iterator.next()")]),s._v(" æ‰ä¼šé€ä¸ªå¾—åˆ°è¿ç®—ç»“æœã€‚è¿™å°±æ˜¯å»¶è¿Ÿè®¡ç®—ã€‚")]),s._v(" "),e("p",[s._v("Iterator å°±åƒæ˜¯åœ¨ pull æ•°æ®ï¼Œè¿è¡Œä¸€æ¬¡ "),e("code",[s._v(".next()")]),s._v(" å°±æ‹‰å–ä¸€æ¬¡æ•°æ®ï¼›")]),s._v(" "),e("h2",{attrs:{id:"å°ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[s._v("#")]),s._v(" å°ç»“")]),s._v(" "),e("p",[s._v("OKï¼Œç»“åˆä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬åˆ†æäº† â€œä¸ºä»€ä¹ˆè¯´ï¼šè¢«è§‚å¯Ÿè€…æ˜¯ push æ•°æ®ï¼Œè¿­ä»£è€…æ˜¯ pull æ•°æ®ï¼Ÿâ€")]),s._v(" "),e("p",[s._v("ä¸€å›¾èƒœåƒè¨€ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a43f05b647c34e1c819e88e486a4efb1~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),e("p",[s._v("ä¸è¿‡è¯´åˆ°åº•ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æŠŠè¿™ä¸¤ç§è®¾è®¡æ¨¡å¼å•æ‹å‡ºæ¥ä½œè¿™æ ·è§£é‡Šå‘¢ï¼Ÿ")]),s._v(" "),e("p",[s._v("å™¢ï¼Œå…¶å®æ˜¯ä¸ºäº†ç†è§£ "),e("strong",[s._v("RxJS Observable")]),s._v("ï¼Œå®ƒæ˜¯äºŒè€…æ€æƒ³çš„ç»“åˆï¼›")]),s._v(" "),e("p",[s._v("å®ƒå¤§è‡´é•¿è¿™æ ·ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var observable = Rx.Observable \n    .create(function(observer) { \n    observer.next('Jerry'); // RxJS 4.x ä»¥å‰çš„ç‰ˆæœ¬ç”¨ onNext \n    observer.next('Anna'); \n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("æˆ‘ä»¬åé¢å†æ¥é€æ¸æ­å¼€å®ƒçš„é¢çº±~~ è¿™é‡Œåªç”¨å…ˆç†è§£å…¶èƒŒæ™¯æ€æƒ³ï¼Œæœ‰ä¸ªå¤§è‡´æ¦‚å¿µå’Œå°è±¡å³å¯ï¼›")]),s._v(" "),e("blockquote",[e("p",[s._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ï¼Œè¾“å‡ºæš´éœ²è¾“å…¥ï¼ŒæŠ€æœ¯æ´è§ç”Ÿæ´»ï¼Œå†ä¼šå•¦~~")])])])}),[],!1,null,null,null);n.default=t.exports}}]);