(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{592:function(e,n,s){"use strict";s.r(n);var a=s(2),t=Object(a.a)({},(function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("æ¥ä¸Šä¸€ç¯‡"),s("a",{attrs:{href:"https://juejin.cn/post/7010532564817412109",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Šå¬å›ä¸€å¸­è¯ï¼Œå¦‚å¬ä¸€å¸­è¯ï¼Œè§£é‡Šè§£é‡Šâ€œæƒ°æ€§æ±‚å€¼â€~ã€‹"),s("OutboundLink")],1),e._v("ï¼Œæœ‰æ˜å‹é—®ï¼šâ€œæˆ‘æ‡‚æƒ°æ€§æ±‚å€¼çš„æ„æ€äº†ï¼Œä½†æ˜¯åœ¨ JS ä¸­å¦‚ä½•å®ç° thunk çš„å‘¢ï¼Ÿâ€")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/727569b82364495b8ebbd694c81102e2~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),s("p",[e._v("JS ä¸åƒ Haskellï¼Œå…¶è‡ªèº«ä»è¯­è¨€è®¾è®¡å±‚é¢ä¸æ”¯æŒæƒ°æ€§æ±‚å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è¯­æ³•å» "),s("strong",[e._v("æ¨¡æ‹Ÿå®ç°")]),e._v(" è¿™ä¸€ç‰¹æ€§ï¼›")]),e._v(" "),s("p",[e._v("æƒ³ä¸€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»€ä¹ˆæ¥ JS è¯­æ³•æ¥æ¨¡æ‹Ÿè¿™ä¸€â€œå»¶è¿Ÿè®¡ç®—â€çš„ç‰¹æ€§ï¼Ÿ")]),e._v(" "),s("p",[e._v("æ²¡æ€è·¯çš„è¯ï¼Œçœ‹å‰ç¯‡è¿™ä¸€å¥ï¼š")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf9bc31b5bcc46b0b18b2d6b235c309c~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),s("p",[e._v("åœ¨ã€ŠHaskellè¶£å­¦æŒ‡å—ã€‹ä¸­ï¼Œthunk è¢«ç¿»è¯‘æˆÂ "),s("strong",[e._v("ä¿è¯")]),e._v("ï¼›")]),e._v(" "),s("p",[e._v("åœ¨ã€ŠHaskell å‡½æ•°å¼ç¼–ç¨‹å…¥é—¨ã€‹ï¼Œthunk è¢«è§£é‡Šä¸ºï¼š")]),e._v(" "),s("blockquote",[s("p",[e._v("thunk æ„ä¸ºå½¢å®æ›¿æ¢ç¨‹åºï¼ˆæœ‰æ—¶å€™ä¹Ÿç§°ä¸ºå»¶è¿Ÿè®¡ç®—ï¼Œsuspended computationï¼‰ã€‚å®ƒæŒ‡çš„æ˜¯åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›å‡½æ•°çš„å‚æ•°æˆ–è€…ä¸€äº›ç»“æœé€šè¿‡ä¸€æ®µç¨‹åºæ¥ä»£è¡¨ï¼Œè¿™è¢«ç§°ä¸º thunkã€‚"),s("strong",[e._v("å¯ä»¥ç®€å•åœ°æŠŠ thunk çœ‹åšæ˜¯ä¸€ä¸ªæœªæ±‚å¾—å®Œå…¨ç»“æœçš„è¡¨è¾¾å¼ä¸æ±‚å¾—è¯¥è¡¨è¾¾å¼ç»“æœæ‰€éœ€è¦çš„ç¯å¢ƒå˜é‡ç»„æˆçš„å‡½æ•°ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¸ç¯å¢ƒå˜é‡å½¢æˆäº†ä¸€ä¸ªæ— å‚æ•°çš„é—­åŒ…ï¼ˆparameterless closureï¼‰")]),e._v("ï¼Œæ‰€ä»¥ thunk ä¸­æœ‰æ±‚å¾—è¿™ä¸ªè¡¨è¾¾å¼æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œåªæ˜¯åœ¨ä¸éœ€è¦çš„æ—¶å€™ä¸æ±‚è€Œå·²ã€‚")])]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("é‚£æ„æ€æ˜¯ç”¨ Promise æ¨¡æ‹Ÿå—ï¼Ÿ")]),e._v(" "),s("p",[e._v("äº‹å®ä¸Šï¼Œä¸è¡Œï¼")]),e._v(" "),s("p",[s("code",[e._v("Promise")]),e._v(" ä¸€æ—¦æ‰§è¡Œï¼Œå®ƒå°±å¼€å§‹æ‰§è¡Œäº†ï¼Œä½ åªçŸ¥é“æ˜¯åœ¨ "),s("code",[e._v("Pending")]),e._v("ï¼Œä½†ä¸çŸ¥é“æ˜¯åˆšå¼€å§‹æ‰§è¡Œï¼Œæˆ–è€…æ˜¯å¿«æ‰§è¡Œå®Œäº†ï¼Œè¿˜æ˜¯å…¶å®ƒå“ªä¸ªæ‰§è¡Œé˜¶æ®µï¼›è·å– "),s("code",[e._v("Promise")]),e._v(" çš„æ—¶å€™ï¼Œå†…éƒ¨çš„å¼‚æ­¥ä»»åŠ¡å°±å·²ç»å¯åŠ¨äº†ï¼Œæ‰§è¡Œæ— æ³•ä¸­é€”å–æ¶ˆï¼ˆè¿™ä¹Ÿæ˜¯ Promise çš„å¼Šç«¯ä¹‹ä¸€ï¼šï¼‰ï¼›")]),e._v(" "),s("p",[e._v("ä»£ç ğŸŒ°")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6826885e79bf44fa942be55c6ec3a08c~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),s("p",[e._v("Promise æ˜¯ç«‹å³æ±‚å€¼ï¼Œä¸æ˜¯æƒ°æ€§æ±‚å€¼ï¼")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("é‚£æ‰‹ä¸Šè¿˜æœ‰ä»€ä¹ˆç‰Œï¼Ÿ")]),e._v(" "),s("p",[e._v("â€œå»¶è¿Ÿæ‰§è¡Œâ€ä¸å°±æ˜¯â€œæš‚åœä»¥åå†æ‰§è¡Œâ€å˜›ï¼Ÿ"),s("code",[e._v("thunk")]),e._v("æ›´åƒæ˜¯ "),s("code",[e._v("Generator")]),e._v(" ï¼ï¼ğŸ‘")]),e._v(" "),s("p",[e._v("èµ‹å€¼çš„æ—¶å€™ï¼Œæˆ‘ä¸è¿›è¡Œè®¡ç®—ï¼ŒæŠŠä½ åŒ…è£…æˆä¸€ä¸ª "),s("code",[e._v("<suspended>")]),e._v(" æš‚åœç­‰å¾…ï¼Œç­‰ä½ è°ƒç”¨ "),s("code",[e._v("next()")]),e._v(" çš„æ—¶å€™ï¼Œæˆ‘å†è®¡ç®—ï¼›")]),e._v(" "),s("p",[e._v("ä»£ç ğŸŒ°")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd3f14e59a704f8eac016ef3c462f67e~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),s("p",[e._v("è¿™ä¸å°±æ˜¯æœ€ç®€å•ç‰ˆæœ¬çš„ JS æƒ°æ€§æ±‚å€¼ Thunk çš„å®ç°å—ï¼Ÿ")]),e._v(" "),s("p",[e._v("Haskell ä¸­çš„æ— é™åˆ—è¡¨ä¸å°±æ˜¯ MDN ä¸­ Generator æ‰€å®ç°çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator",target:"_blank",rel:"noopener noreferrer"}},[e._v("æ— é™è¿­ä»£å™¨"),s("OutboundLink")],1),e._v(" å—ï¼Ÿ")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('function* idMaker(){\n    let index = 0;\n    while(true)\n        yield index++;\n}\n\nlet gen = idMaker(); // "Generator { }"\n\nconsole.log(gen.next().value);\n// 0\nconsole.log(gen.next().value);\n// 1\nconsole.log(gen.next().value);\n// 2\n// ...\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a5e2c25cbde4a5f8cabf9bbfbf1a6c5~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),s("p",[e._v("å®é™…ä¸Š Lazy.js ä¹Ÿæ­£æ˜¯å€ŸåŠ© Generator å®ç°â€œæƒ°æ€§â€çš„ï¼")]),e._v(" "),s("p",[e._v("ä»¥å®ç° "),s("code",[e._v("take")]),e._v(" æ–¹æ³•ä¸ºä¾‹ğŸŒ°ï¼š")]),e._v(" "),s("p",[e._v("åœ¨ Haskell ä¸­ï¼Œ"),s("code",[e._v("take")]),e._v(" å‡½æ•°å¯ä»¥ä»å¤´è¿ç»­åœ°å–å¾—ä¸€ä¸ªåˆ—è¡¨çš„å‡ ä¸ªå…ƒç´ ï¼›")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Prelude> take 3 [1,2,3,4,5]\n[1,2,3]\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("JS æ¨¡æ‹Ÿå®ç° "),s("code",[e._v("take")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("function* take(n,items){\n  let i = 0;\n  if (n < 1) return;\n  for (let item of items) {\n    yield item;\n    i++;\n    if (i >= n) {\n      return;\n    }\n  }\n}\n\nlet thunk=take(3,[1,2,3,4,5])\n\nconsole.log(thunk.next()) // {value: 1, done: false}\nconsole.log(thunk.next()) // {value: 2, done: false}\nconsole.log(thunk.next()) // {value: 3, done: false}\nconsole.log(thunk.next()) // {value: undefined, done: true} \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br")])]),s("p",[e._v("ä½¿ç”¨ lazy.js æ˜¯ç±»ä¼¼è¿™æ ·è°ƒç”¨çš„ï¼š")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Lazy(stream)\n  .take(5) // ä»…ä»…é˜…è¯»æ•°æ®ä¸­çš„å‰äº”å—å†…å®¹\n  .each(processData);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("hr"),e._v(" "),s("p",[s("strong",[e._v("å°ç»“")])]),e._v(" "),s("p",[e._v("ä¸“æ ä»‹ç»å¼•ç”¨çš„æ˜¯è¿™å¥è¯ï¼š")]),e._v(" "),s("p",[e._v("å¦‚æœè¦æ•´ä½“äº†è§£ä¸€ä¸ªäººçš„æ ¸å¿ƒ JavaScript æŠ€èƒ½ï¼Œæˆ‘æœ€æ„Ÿå…´è¶£çš„æ˜¯ä»–ä»¬ä¼šå¦‚ä½•ä½¿ç”¨é—­åŒ…ä»¥åŠå¦‚ä½•å……åˆ†åˆ©ç”¨å¼‚æ­¥ã€‚â€”â€” Jake Archibald")]),e._v(" "),s("p",[e._v("å†å›çœ‹ wiki ä¸Šå…³äºé—­åŒ…çš„è¿™å¥è§£é‡Šï¼š")]),e._v(" "),s("ul",[s("li",[e._v("é—­åŒ…çš„ç”¨é€”ï¼š"),s("code",[e._v("å› ä¸ºé—­åŒ…åªæœ‰åœ¨è¢«è°ƒç”¨æ—¶æ‰æ‰§è¡Œæ“ä½œ")]),e._v("ï¼ˆæš‚ä¸”ä¸è®ºç”¨äºç”Ÿæˆè¿™ä¸ªé—­åŒ…å¯¹è±¡æœ¬èº«çš„å¼€é”€ï¼Œæ¯”å¦‚ C++ ä¸­æŒ‰å€¼æ•è·æ„å‘³ç€æ‰§è¡Œå¤åˆ¶æ„é€ å‡½æ•°ï¼‰ï¼Œå³â€œ"),s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E6%83%B0%E6%80%A7%E6%B1%82%E5%80%BC",title:"æƒ°æ€§æ±‚å€¼",target:"_blank",rel:"noopener noreferrer"}},[e._v("æƒ°æ€§æ±‚å€¼"),s("OutboundLink")],1),e._v("â€ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«ç”¨æ¥å®šä¹‰æ§åˆ¶ç»“æ„ã€‚ä¾‹å¦‚ï¼šåœ¨"),s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Smalltalk",title:"Smalltalk",target:"_blank",rel:"noopener noreferrer"}},[e._v("Smalltalk"),s("OutboundLink")],1),e._v("è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„æ§åˆ¶ç»“æ„ï¼ŒåŒ…æ‹¬åˆ†æ”¯æ¡ä»¶ï¼ˆif/then/elseï¼‰å’Œå¾ªç¯ï¼ˆwhileå’Œforï¼‰ï¼Œéƒ½æ˜¯é€šè¿‡é—­åŒ…å®ç°çš„ã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨é—­åŒ…å®šä¹‰è‡ªå·±çš„æ§åˆ¶ç»“æ„ã€‚")])]),e._v(" "),s("p",[e._v("ç°åœ¨çœ‹æ¥ï¼Œæƒ°æ€§æ±‚å€¼ä¼¼ä¹èƒ½è¿æ¥â€œå¦‚ä½•ä½¿ç”¨é—­åŒ…â€å’Œâ€œå¦‚ä½•å……åˆ†åˆ©ç”¨å¼‚æ­¥â€ï¼ï¼")]),e._v(" "),s("p",[e._v("â€œæƒ°æ€§â€çš„æ€æƒ³æ·±å…¥å‡½æ•°å¼ç¼–ç¨‹ï¼Œè¿˜æœ‰æœ€é‡è¦çš„ Monadï¼ŒæŠŠå…·æœ‰â€œå‰¯ä½œç”¨â€çš„éƒ¨åˆ†å»¶åå¤„ç†ï¼Œä¹Ÿä¸â€œæƒ°æ€§â€å‘¼åº”ï¼Œåé¢æœ‰æœºä¼šå†è®¨è®º~")]),e._v(" "),s("p",[e._v("å¥½å•¦ï¼Œä»¥ä¸Šä¾¿æ˜¯æœ¬ç¯‡åˆ†äº«~")]),e._v(" "),s("p",[e._v("æ˜æ–‡ä¸æ˜“ï¼Œç‚¹èµé¼“åŠ±ğŸ‘ğŸ‘ğŸ‘")]),e._v(" "),s("blockquote",[s("p",[e._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ï¼Œå…¬ä¼—å·åŒåï¼Œè¾“å‡ºæš´éœ²è¾“å…¥ï¼ŒæŠ€æœ¯æ´è§ç”Ÿæ´»ï¼Œå†ä¼š~")])])])}),[],!1,null,null,null);n.default=t.exports}}]);