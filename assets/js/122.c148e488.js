(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{615:function(n,s,a){"use strict";a.r(s);var r=a(2),t=Object(r.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("p",[n._v("承接上一篇："),a("a",{attrs:{href:"https://juejin.cn/post/6980925339358724104",target:"_blank",rel:"noopener noreferrer"}},[n._v("理解 P/NP 问题时，我产生了一种已经触碰到人类认知天花板的错觉？！"),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("我们目前的世界仍是基于 "),a("strong",[n._v("P ≠ NP")]),n._v("，所以有理由相信："),a("strong",[n._v("只要我们把牌洗的足够乱，幸运女神或许就会降临。")]),n._v("（生活就像英雄联盟，运气游戏而已~）")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d56da2ab2cc944bd81d598a169b7afe6~tplv-k3u1fbpfcp-watermark.image",alt:"102300016s4n007o28on.gif"}})]),n._v(" "),a("p",[n._v("本篇带来的就是：如何把牌洗的足够乱的 "),a("strong",[n._v("洗牌算法")]),n._v(" ！")]),n._v(" "),a("p",[n._v("从青铜到王者，面试和实战都用得到！ 点赞收藏 ✨")]),n._v(" "),a("p",[n._v("闲言少叙，直接奥力给！！")]),n._v(" "),a("h2",{attrs:{id:"青铜洗牌-🤬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#青铜洗牌-🤬"}},[n._v("#")]),n._v(" 青铜洗牌 🤬")]),n._v(" "),a("p",[a("strong",[n._v("题目：给你一副崭新的扑克牌（54 张），你如何 "),a("strong",[n._v("“洗乱”")]),n._v(" 它？？")])]),n._v(" "),a("p",[n._v("咱青铜玩家通常很暴躁！")]),n._v(" "),a("p",[n._v("不就是洗牌嘛！聪明的青铜玩家，先将问题抽象为算法模型！")]),n._v(" "),a("p",[n._v("问题转化为：")]),n._v(" "),a("p",[n._v("已知：一个数组 nums = [1,2,3,4,5,...,51,52,53,54]，求解：一个乱序的新数组 radomNums。（简直不能再 nice 了）")]),n._v(" "),a("p",[n._v("然后采用 "),a("strong",[n._v("【暴力抽取】")])]),n._v(" "),a("p",[n._v("在 1 至 54 之前随机生成一个整数，然后把它放到新数组里，然后再随机生成一个整数，如果和之前生成的没重复，直接放入新数组，如果和之前重复了，那再随机生成一个......")]),n._v(" "),a("p",[n._v("这样直至数组中所有数字都被抽取放到新数组，最终得解！")]),n._v(" "),a("p",[n._v("代码实现：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("// 生成 nums：\nlet nums=[]\nfor(let i=1;i<=54;i++){\n    nums.push(i)\n}\n\n// 青铜洗牌算法：\nlet count = 0 \nconst shuffle = function(nums) {\n    let radomNums = []\n    while (radomNums.length < nums.length) {\n        count++; // count 计数洗牌次数\n        let rand = randOne()\n        if(radomNums.includes(rand)){ // 随机数重复\n            rand = randOne() // 再次生成\n        }else{\n            radomNums.push(rand)\n        }\n    }\n    return radomNums\n}\n\n// 在 1 至 54 之间任意取一整数；\nconst randOne= function() {\n    return Math.floor(Math.random() * 54) + 1;\n}\n\nconsole.log(shuffle(nums))\nconsole.log(count)\n// (54) [22, 48, 13, 23, 15, 12, 18, 50, 5, 28, 27, 52, 46, 16, 40, 6, 33, 9, 41, 30, 54, 14, 36, 53, 17, 2, 11, 37, 42, 3, 8, 21, 25, 20, 34, 32, 35, 4, 43, 26, 38, 24, 10, 45, 31, 49, 44, 19, 51, 7, 1, 39, 47, 29]\n// 271\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br")])]),a("p",[n._v("完美~ 青铜玩家暴力洗牌，简单直白，在万军丛中直取敌将首级！！")]),n._v(" "),a("h2",{attrs:{id:"白银洗牌-📍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#白银洗牌-📍"}},[n._v("#")]),n._v(" 白银洗牌 📍")]),n._v(" "),a("p",[n._v("白银玩家看了青铜玩家的操作，不禁放声大笑！")]),n._v(" "),a("p",[a("strong",[n._v("“痴线~”（sb）")])]),n._v(" "),a("p",[n._v("把上述代码拷贝至控制台运行发现，基本上打乱这副扑克牌要洗 200 ~ 300 次！因为越往后，生成随机数重复的概率就越大！")]),n._v(" "),a("p",[n._v("只有痴线才会洗这么多次吧~")]),n._v(" "),a("p",[n._v("于是，白银玩家开始操作起来！遥感")]),n._v(" "),a("p",[n._v("关键词："),a("strong",[n._v("【交换位置】")]),n._v("。")]),n._v(" "),a("p",[n._v("将牌随机分成两堆，让它们交换，然后再随机分成两堆，再让它们交换，然后再随机分出两堆......这样重复洗十几、二十次后，完成洗牌。")]),n._v(" "),a("p",[n._v("实际上，在现实中，我们玩牌，大部分玩家也是这样去洗的，它也叫【印度洗牌法】（难道是阿三发明的？）")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58128bd6d32b497aa4ce25f29c903d8a~tplv-k3u1fbpfcp-watermark.image",alt:"0.gif"}})]),n._v(" "),a("p",[n._v("代码实现：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("// 生成 nums：\nlet nums=[]\nfor(let i=1;i<=54;i++){\n    nums.push(i)\n}\n\n// 白银洗牌算法：\nconst shuffle = function(nums){\n    let radomNums = JSON.parse(JSON.stringify(nums))\n    for(let i = 0;i < 20;i++){\n        let randIndex1 = randOneIndex()\n        let randIndex2 = randOneIndex()\n\n        if(randIndex2 < randIndex1){ // 若 rand2<rand1，二者替换\n            randIndex1 = randIndex1 + randIndex2\n            randIndex2 = randIndex1 - randIndex2 \n            randIndex1 = randIndex1 - randIndex2\n        }\n\n        let radomBlock = radomNums.slice(randIndex1,randIndex2 + 1)\n        radomNums = radomNums.slice(0,randIndex1).concat(radomNums.slice(randIndex2,53)).concat(radomBlock)\n    }\n    return radomNums\n}\n\n// 在 0 至 53 之间任意取一整数作数组下标；\nconst randOneIndex= function() {\n    return Math.floor(Math.random() * 54);\n}\n\nconsole.log(shuffle(nums))\n// (54) [30, 9, 7, 28, 29, 39, 45, 46, 47, 48, 49, 50, 51, 52, 24, 25, 26, 27, 40, 42, 43, 44, 38, 31, 14, 8, 41, 22, 32, 19, 20, 1, 2, 10, 11, 12, 13, 16, 15, 53, 23, 3, 4, 5, 6, 21, 17, 18, 33, 34, 35, 36, 37, 42]\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br")])]),a("p",[n._v("白银，永远滴神！只用洗 20 次，就能把牌洗乱！")]),n._v(" "),a("h2",{attrs:{id:"黄金洗牌-💡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#黄金洗牌-💡"}},[n._v("#")]),n._v(" 黄金洗牌 💡")]),n._v(" "),a("p",[n._v("这时，黄金玩家又笑了："),a("strong",[n._v("“呵呵，你个渣渣白银，根本还没看懂题目！”")])]),n._v(" "),a("p",[n._v("“你懂不懂洗牌问题最最关键的 "),a("strong",[n._v("“洗乱”")]),n._v(" 二字意义所在？！”")]),n._v(" "),a("p",[n._v("黄金洗牌来揭晓答案：")]),n._v(" "),a("blockquote",[a("p",[n._v("随机的结果要能够覆盖所有的情况，并且随机结果出现的概率相等；")])]),n._v(" "),a("p",[n._v("洗 54 张牌，随机结果需覆盖所有情况就应该是 54 张牌的排列方式，A"),a("sup",[n._v("54")]),a("sub",[n._v("54")]),n._v("，即 54!（54 的阶层）种随机结果。")]),n._v(" "),a("p",[n._v("两两对换：")]),n._v(" "),a("p",[n._v("洗 1 次，会得到 n 种可能的结果；")]),n._v(" "),a("p",[n._v("洗 2 次，会得到 n*(n-1) 种结果；")]),n._v(" "),a("p",[n._v("洗 3 次，会得到 n*(n-1)*(n-2) 种结果；")]),n._v(" "),a("p",[n._v("......")]),n._v(" "),a("p",[n._v("洗 n 次之后，我们才满足了："),a("strong",[n._v("随机结果【覆盖所有情况】，并且所有随机结果【出现概率相等】")]),n._v("。")]),n._v(" "),a("p",[n._v("所以，必须洗 54 次，才能达到目的。")]),n._v(" "),a("p",[n._v("代码实现：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("// 生成 nums：\nlet nums=[]\nfor(let i=1;i<=54;i++){\n    nums.push(i)\n}\n\n// 黄金洗牌算法：\nconst shuffle = function(nums) {\n\n    // 高手都用 slice(0) 复制数组\n    const radomNums = nums.slice(0);\n    let n = radomNums.length;\n\n    // 产生的结果有 n! 种可能\n    for (let i = 0; i < n; i++) {\n\n        // 从 i 到 n-1 随机选一个\n        const rand = randOne(i, n - 1); \n\n        // 交换nums数组i和rand下标的两个元素\n        [ radomNums[i], radomNums[rand] ] = [ radomNums[rand], radomNums[i] ];\n    }\n\n    return radomNums;\n};\n\n// 获取闭区间 [n, m] 内的一个随机整数\nconst randOne= function(n, m) {\n    return Math.floor(Math.random() * (m - n + 1)) + n;\n};\n\n\nconsole.log(shuffle(nums))\n// (54) [39, 40, 11, 35, 1, 47, 33, 9, 44, 32, 31, 45, 41, 4, 51, 42, 8, 10, 16, 14, 18, 17, 13, 6, 34, 53, 48, 5, 15, 22, 38, 37, 49, 43, 3, 20, 26, 52, 30, 19, 7, 50, 12, 21, 46, 36, 23, 27, 28, 25, 2, 29, 24, 54]\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br")])]),a("h2",{attrs:{id:"铂金洗牌-🤣"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#铂金洗牌-🤣"}},[n._v("#")]),n._v(" 铂金洗牌 🤣")]),n._v(" "),a("p",[n._v("正在网吧的铂金大神看到上面这些弟弟，笑出猪叫~~~")]),n._v(" "),a("p",[n._v("但凡上点网，学点攻略，就不至于在洗牌这个问题上没听说过 "),a("strong",[n._v("Fisher-Yates")]),n._v(" 洗牌算法！")]),n._v(" "),a("p",[n._v("思路：")]),n._v(" "),a("p",[n._v("随机生成 1 至 54 之间的整数，将它和数组的最后一位替换；")]),n._v(" "),a("p",[n._v("然后再在 1 至 53 之间随机生成一位整数，将它和数组的倒数第二位替换；")]),n._v(" "),a("p",[n._v("然后再 1 至 52 之间随机生成一位整数，将它和数组的倒数第三位替换；")]),n._v(" "),a("p",[n._v("......")]),n._v(" "),a("p",[n._v("直至在 1 至 1 之间随机生成一位整数（即 1），将它和数组第 1 位替换（即替换自身）；")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://imagelol.com/image/IdW3Yw",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.jpg.cm/2021/07/14/IdW3Yw.md.png",alt:"IdW3Yw.md.png"}}),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("这样做，时间复杂度为 O(n)，且任意一张牌出现的概率都是 1/52，满足：随机结果覆盖所有情况，随机结果出现概率相等！")]),n._v(" "),a("p",[n._v("数学证明：一张牌被放到第 i 个位置的机率为 P，则 P 会等于前 i-1 个位置都未选到这张牌且第 i 个位置选到这张牌。")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://imagelol.com/image/IdWw1W",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.jpg.cm/2021/07/14/IdWw1W.png",alt:"IdWw1W.png"}}),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("代码实现：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("// 生成 nums：\nlet nums=[]\nfor(let i=1;i<=54;i++){\n    nums.push(i)\n}\n\n// 铂金洗牌算法：\nconst FYShuffle = function (nums) {\n\n    const radomNums = nums.slice(0);\n    let len = radomNums.length;\n    \n    while (len > 1) {\n        let rand = Math.floor(Math.random() * len);\n        len--;\n        let temp = radomNums[len];\n        radomNums[len] = radomNums[rand];\n        radomNums[rand] = temp;\n    }\n\n    return radomNums;\n}\n\nconsole.log(FYShuffle(nums))\n// (54) [47, 17, 33, 13, 37, 26, 20, 39, 45, 44, 25, 40, 49, 7, 36, 38, 6, 15, 31, 18, 52, 46, 28, 11, 43, 1, 22, 19, 53, 9, 14, 27, 35, 8, 51, 42, 50, 2, 23, 5, 30, 54, 4, 21, 29, 16, 10, 24, 48, 34, 32, 12, 41, 3]\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br")])]),a("h2",{attrs:{id:"钻石洗牌-😎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#钻石洗牌-😎"}},[n._v("#")]),n._v(" 钻石洗牌 😎")]),n._v(" "),a("p",[n._v("钻石大神拍案站起，惊呼道："),a("strong",[n._v("鸽尾式洗牌法（Riffle Shuffle），才是永远滴神！")])]),n._v(" "),a("p",[n._v("现实中很多扑克高玩都会这样洗吧（一图胜千言）")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ae8e83d53d64887b2279c4a5de21d64~tplv-k3u1fbpfcp-watermark.image",alt:"127614630_14271639688491n.gif"}})]),n._v(" "),a("p",[n._v("原理：将数组一分为二，再穿插合并，再不断重复这样的操作；")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://imagelol.com/image/IdnLHG",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.jpg.cm/2021/07/14/IdnLHG.md.png",alt:"IdnLHG.md.png"}}),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("研究表明："),a("strong",[n._v("用鸽尾式洗牌法【洗七次】是最有效的打乱手法！")]),n._v("（谁研究的？自行 Google）")]),n._v(" "),a("p",[n._v("代码实现：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("// 生成 nums：\nlet nums=[]\nfor(let i=1;i<=54;i++){\n    nums.push(i)\n}\n\n// 钻石洗牌算法：\nconst RShuffle = function (arr) {\n\n    let radomNums = nums.slice(0);\n    for(let i = 0;i < 7;i++){\n        let randIndex = randOneIndex()\n        let arr1 = radomNums.slice(0,randIndex)\n        let arr2 = radomNums.slice(randIndex,55)\n        radomNums = aryJoinAry(arr1 ,arr2)\n    }\n    return radomNums;\n}\n\n// 两个数组穿插合并\nconst aryJoinAry = function (ary,ary2) {\n    var itemAry=[];\n    var minLength;\n    //先拿到两个数组中长度较短的那个数组的长度\n    if(ary.length>ary2.length){\n        minLength=ary2.length;\n    }\n    else{\n        minLength=ary.length;\n    }\n    //将两个数组中较长的数组记录下来\n    var longAry=arguments[0].length>arguments[1].length?arguments[0]:arguments[1];\n    //循环范围为较短的那个数组的长度\n    for (var i = 0; i < minLength; i++) {\n        //将数组放入临时数组中\n        itemAry.push(ary[i]);\n        itemAry.push(ary2[i])\n    }\n    //itemAry和多余的新数组拼接起来并返回。\n    return itemAry.concat(longAry.slice(minLength));\n}\n\n\n// 在 0 至 53 之间任意取一整数作数组下标；\nconst randOneIndex= function() {\n    return Math.floor(Math.random() * 54);\n}\n\nconsole.log(RShuffle(nums))\n// (54) [1, 4, 19, 2, 38, 51, 6, 37, 15, 9, 45, 43, 7, 52, 16, 21, 39, 53, 24, 26, 44, 54, 40, 5, 32, 10, 46, 22, 33, 27, 3, 11, 18, 28, 47, 12, 17, 29, 8, 13, 41, 30, 48, 14, 34, 31, 20, 23, 49, 35, 25, 42, 50, 36]\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br")])]),a("h2",{attrs:{id:"大师洗牌-😏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大师洗牌-😏"}},[n._v("#")]),n._v(" 大师洗牌 😏")]),n._v(" "),a("p",[n._v("大师看到这里，笑而不语。")]),n._v(" "),a("p",[n._v("大师说："),a("strong",[n._v("“把牌洗乱固然重要，但是能不能，把牌洗乱之后，还能发给自己想要的牌？！”")])]),n._v(" "),a("p",[n._v("—— 大师，我悟了！这不就是"),a("strong",[n._v("抽奖池")]),n._v("嘛！！")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://s3.jpg.cm/2021/07/14/Id5SjT.th.png",alt:"Id5SjT.th.png"}})]),n._v(" "),a("p",[n._v("目标：将 54 张牌打乱后，抽到区间 [1,10] 的概率为 40%，抽到区间 [11,20] 的概率为 20%，抽到区间 [21,30] 的概率为 20%，抽到区间 [31,40] 的概率为 15%，剩下的抽到 [41,54] 的概率为 5%；")]),n._v(" "),a("p",[n._v("思路：我们实现乱序数组的同时，输出一个概率数组。")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("radomNums = [21,43,12,3,...,8,6,33] // 共 54 项\n\nprobabilityNums = [0.02,0.015,...,0.04,0.04,0.15] // 共 54 项，和为 1\n\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br")])]),a("p",[n._v("然后再通过以下 randomProbability 拿出发牌的值：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("function randomProbability(arr1, arr2) {\n      var sum = 0,\n      factor = 0,\n      random = Math.random();\n      for(let i = arr2.length - 1; i >= 0; i--) {\n        sum += arr2[i]; // 统计概率总和\n      };\n      random *= sum; // 生成概率随机数\n      for(let i = arr2.length - 1; i >= 0; i--) {\n        factor += arr2[i];\n        if(random <= factor) return arr1[i]; // 如果在当前的概率范围内，得到的就是当前概率，返回输出\n      };\n      return null;\n}\n\nconst yourCard = randomProbability(radomNums, probabilityNums)\n\nconsole.log(yourCard)\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br")])]),a("h2",{attrs:{id:"王者洗牌-👑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#王者洗牌-👑"}},[n._v("#")]),n._v(" 王者洗牌 👑")]),n._v(" "),a("p",[n._v("此时，只见身在高处的王者背影。他缓缓转过身来。用手中的权杖指向了洗牌的终极的秘密："),a("strong",[n._v("random 函数")]),n._v("！神圣而又庄重！")]),n._v(" "),a("p",[n._v("你可曾想过，前文处处在使用的 random 函数的机制是什么？")]),n._v(" "),a("p",[n._v("如果我们破解了 random 函数的生成规则，是不是意味着破解了随机！")]),n._v(" "),a("p",[n._v("ES5 对 random 函数是这样解释的：")]),n._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://262.ecma-international.org/5.1/",target:"_blank",rel:"noopener noreferrer"}},[n._v("15.8.2.14 random ( )"),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("Returns a Number value with positive sign, "),a("strong",[n._v("greater than or equal to 0 but less than 1")]),n._v(", chosen randomly or pseudo randomly "),a("strong",[n._v("with approximately uniform distribution over that range")]),n._v(", using an implementation-dependent algorithm or strategy. This function takes no arguments.")])]),n._v(" "),a("p",[n._v("简单翻译就是 random() 函数产生的值在 [0,1) 之间，具有"),a("strong",[n._v("大致均匀")]),n._v("的分布，不用带参数。")]),n._v(" "),a("p",[n._v("进一步了解得知，在 Windows 系统 chrome V8 引擎下，浏览器最终调用一个 "),a("strong",[n._v("rand_s 函数")]),n._v("，rand_s 是 Windows 系统提供的一个随机性足够强的随机数发生器。在其他系统下，也是基于当前系统获取高精度的随机数。所以，"),a("strong",[n._v("随机的根本源头是借助了操作系统的能力。")])]),n._v(" "),a("p",[n._v("但，MDN 上仍表示 Math.random 是一个"),a("strong",[n._v("伪随机数")]),n._v("，它是不安全的。从 V8 的源码可以看到 Math.random 的值来源是 /dev/random，取 64 位，值的可能个数为 2 ^ 64，随机算法相对简单，只是保证尽可能的随机分布。")]),n._v(" "),a("p",[n._v("2 的 64 次方还不够大吗？没错，它还不够！要知道 54 张扑克牌的全排列 54!（阶层）的值远远大于它。所以，它还不能覆盖大量的组合情景。")]),n._v(" "),a("p",[n._v("那，这个世界上有 "),a("strong",[n._v("真随机数")]),n._v(" 吗？王者莞尔一笑~")]),n._v(" "),a("p",[n._v("目前认为，真随机数需要从现实世界采集，比如 "),a("a",{attrs:{href:"http://random.org",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://random.org"),a("OutboundLink")],1),n._v(" 这个网站是通过采集大气噪音生成随机数。😮")]),n._v(" "),a("p",[n._v("还有：量子随机数，原理是 LED 发出随机数的光子，CMOS 捕获光源散粒噪声产生随机序列，量子芯片通过测量光量子态得到的随机数，再进一步来加密信息。")]),n._v(" "),a("p",[n._v("不得不说，产生真随机数，是一件非常有意义的事情。至少在目前世界还未证实 "),a("strong",[n._v("P ≠ NP")]),n._v(" 的情况下，它是非常有意义的！！")]),n._v(" "),a("h2",{attrs:{id:"理想世界-🌅"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理想世界-🌅"}},[n._v("#")]),n._v(" 理想世界 🌅")]),n._v(" "),a("p",[n._v("有序和无序，或者说，熵增和熵减，是一个不小的难题。")]),n._v(" "),a("p",[n._v("我们平常了解了那么多种排序算法，也理应了解洗牌算法（乱序算法）。")]),n._v(" "),a("p",[a("strong",[n._v("设想下，如果你是上帝，在你设计的人类社会中，你想让人类这个群体时常感到困惑，迷茫，你会怎样打乱各种变因呢？无论人类怎么努力，都看不透你的打乱规则，这或许也只有上帝能做到吧~")])]),n._v(" "),a("p",[a("strong",[n._v("也许我们不断精确尺度的过程就是追寻认知上帝规则的过程......")])]),n._v(" "),a("p",[n._v("就像本瓜一直以为 1 秒钟就是 1 秒钟，而不知道它实际上被定义为：铯原子的 9192631770 次固有微波振荡次数所需的时间......")]),n._v(" "),a("p",[n._v("ok，以上就是本次分享。有种设想，后续还会对有序无序、有理数无理数、P/NP 问题作更多探讨~")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26c5ab159fa34c80acec7d8f08080b4f~tplv-k3u1fbpfcp-watermark.image",alt:"tcaQQgK54P9EoJkVxkOMXoSiCXdvluNM.gif"}})]),n._v(" "),a("blockquote",[a("p",[a("strong",[n._v("欢迎大家点赞👍关注👀评论💬")])]),n._v(" "),a("p",[n._v("我是掘金安东尼，输出暴露输入，技术洞见生活，再会~")])])])}),[],!1,null,null,null);s.default=t.exports}}]);