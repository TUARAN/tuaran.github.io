(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{563:function(e,v,r){"use strict";r.r(v);var s=r(2),_=Object(s.a)({},(function(){var e=this,v=e.$createElement,r=e._self._c||v;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("hr"),e._v(" "),r("p",[e._v("æ¥ä¸Šä¸€ç¯‡"),r("a",{attrs:{href:"https://juejin.cn/post/7029093184332365855",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€ŠJs å¼‚æ­¥å¤„ç†æ¼”è¿›ï¼ŒCallback=>Promise=>Observerã€‹"),r("OutboundLink")],1),e._v("ï¼Œå¯èƒ½ä¸å°‘æ˜å‹å¯¹ "),r("strong",[e._v("Observer")]),e._v(" è¿˜å¿ƒå­˜ç–‘è™‘ï¼Œæœ¬ç¯‡ç»§ç»­è§£æƒ‘~")]),e._v(" "),r("blockquote",[r("p",[e._v("Observable ç§°å®ƒä¸ºå¯è§‚å¯Ÿå¯¹è±¡ï¼Œå®ƒå¹¶ä¸æ˜¯ Angular çš„ä¸œè¥¿ï¼Œè€Œæ˜¯ ES7 çš„ä¸€ç§ç”¨æ¥ç®¡ç†å¼‚æ­¥æ•°æ®çš„æ ‡å‡†ã€‚")])]),e._v(" "),r("p",[r("strong",[e._v("Observable å¯è§‚å¯Ÿå¯¹è±¡æ˜¯å¼€è¾Ÿä¸€ä¸ªè¿ç»­çš„é€šä¿¡é€šé“ç»™è§‚å¯Ÿè€… Observerï¼Œå½¼æ­¤ä¹‹å‰å½¢æˆä¸€ç§å…³ç³»ï¼Œè€Œè¿™ç§å…³ç³»éœ€è¦ç”± Subscription æ¥ç¡®ç«‹ï¼Œè€Œåœ¨æ•´ä¸ªé€šé“ä¸­å…è®¸å¯¹æ•°æ®è¿›è¡Œè½¬æ¢æˆ‘ä»¬ç§°ä¸ºæ“ä½œç¬¦ Operatorã€‚")])]),e._v(" "),r("p",[e._v("æœ‰ä¸€ä¸ªå½¢è±¡çš„æ¯”å–»ï¼š")]),e._v(" "),r("p",[e._v("ä½ è®¢äº†ä¸€ä¸ªé“¶è¡Œå¡ä½™é¢å˜åŒ–çŸ­ä¿¡é€šçŸ¥çš„æœåŠ¡ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ¯æ¬¡åªè¦ä½ è½¬è´¦æˆ–è€…æ˜¯è´­ä¹°å•†å“åœ¨ä½¿ç”¨è¿™å¼ é“¶è¡Œå¡æ¶ˆè´¹ä¹‹åï¼Œé“¶è¡Œçš„ç³»ç»Ÿå°±ä¼šç»™ä½ æ¨é€ä¸€æ¡çŸ­ä¿¡ï¼Œé€šçŸ¥ä½ æ¶ˆè´¹äº†å¤šå°‘å¤šå°‘é’±ï¼›")]),e._v(" "),r("p",[e._v("è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œé“¶è¡Œå¡ä½™é¢å°±æ˜¯ Observableï¼Œç”¨æˆ·å°±æ˜¯ Observerï¼Œç”¨æˆ·åœ¨é“¶è¡ŒåŠç†è¿™ä¸ªæœåŠ¡ï¼Œå°±æ˜¯ Subscriptionï¼Œé“¶è¡Œå¡ä½™é¢å‘ç”Ÿè½¬è´¦æˆ–è´­ä¹°å•†å“äº§ç”Ÿäº†å˜åŠ¨ï¼Œå°±æ˜¯ Operatorã€‚")]),e._v(" "),r("p",[e._v("å°†ä¸Šé¢çš„è¿‡ç¨‹è½¬åŒ–ä¸ºä»£ç ï¼š")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { Observable } from 'rxjs/Rx';\n\nlet sub = Observable\n    .interval(1000)\n    .map(second => second + 'ç§’')\n    .subscribe(res => {\n        console.log(res);\n    });\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br")])]),r("p",[e._v("åˆ©ç”¨ Observable.interval æ¯éš” 1 ç§’äº§ç”Ÿä¸€ä¸ªæ•°æ®ï¼Œç„¶åäº¤ç»™ map æ“ä½œå·å°†å†…å®¹è¿›è¡Œè½¬æ¢ï¼ˆé“¶è¡Œå¡ä½™é¢å‘ç”Ÿå˜åŠ¨ï¼‰ï¼Œæœ€åäº¤ç»™è§‚å¯Ÿè€…æ‰“å°ç»“æœï¼ˆé€šçŸ¥ç”¨æˆ·ä½™é¢å‘ç”Ÿå˜åŒ–ï¼‰ã€‚")]),e._v(" "),r("p",[e._v("å¦‚æœä½ æƒ³å–æ¶ˆè¿™ä¸ªæœåŠ¡ï¼Œå¯ä»¥è°ƒç”¨ "),r("code",[e._v("sub.unsubscribe()")]),e._v("ï¼›")]),e._v(" "),r("p",[r("strong",[e._v("æ•´ä¸ªè¿‡ç¨‹éƒ½åœ¨ä½“ç°ä¸€ä¸ªæ€æƒ³ï¼šæ•°æ®æµï¼è¿™å’Œå‡½æ•°å¼ç¼–ç¨‹æ€è·¯ä¸€è‡´ï¼Œæ•°æ®æµå°±åƒæ˜¯å·¥å‚æµæ°´çº¿ï¼Œä»åŸææ–™åˆ°æˆå“ï¼Œç»è¿‡ä¸€å±‚å±‚çš„å¤„ç†ï¼Œæ‰€è§å³æ‰€åšï¼Œéå¸¸æ¸…æ™°ï¼ï¼ˆåˆ†ç¦»ææ–™ä¸åŠ å·¥æœºå™¨ï¼Œå°±æ˜¯åˆ†ç¦» Observable å’Œ Subscribeï¼‰")])]),e._v(" "),r("p",[e._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å…·ä½“çœ‹çœ‹ Observable ç»†èŠ‚ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("åˆ›å»º")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const Rx = require('rxjs/Rx')\n\nconst myObservable = Rx.Observable.create(observer => {\n  observer.next('foo');\n  setTimeout(() => observer.next('bar'), 1000);\n});\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br")])]),r("p",[e._v("æˆ‘ä»¬å¯ä»¥è°ƒç”¨ "),r("code",[e._v("Observable.create")]),e._v(" æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ª "),r("code",[e._v("Observable")]),e._v("ï¼Œå…¥å‚æ˜¯ "),r("code",[e._v("observer")]),e._v("ï¼Œåœ¨å‡½æ•°å†…éƒ¨é€šè¿‡è°ƒç”¨ "),r("code",[e._v("observer.next()")]),e._v(" ä¾¿å¯ç”Ÿæˆæœ‰ä¸€ç³»åˆ—å€¼çš„ä¸€ä¸ª "),r("code",[e._v("Observable")]),e._v("ã€‚")]),e._v(" "),r("ul",[r("li",[e._v("å†…ç½®æ–¹æ³•")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const observer = {\n\tnext: function(value) {\n\t\tconsole.log(value);\n\t},\n\terror: function(error) {\n\t\tconsole.log(error)\n\t},\n\tcomplete: function() {\n\t\tconsole.log('complete')\n\t}\n}\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br")])]),r("p",[r("code",[e._v("next")]),e._v("ã€"),r("code",[e._v("error")]),e._v("ã€"),r("code",[e._v("complete")]),e._v("ï¼Œéƒ½æ˜¯å¯é€‰é¡¹ï¼›")]),e._v(" "),r("p",[e._v("æ‰“ä¸ªæ¯”æ–¹ï¼šç”¨æˆ·è®¢ç‰›å¥¶å‚å•†çš„ç‰›å¥¶ï¼Œç‰›å¥¶å‚å•†æ˜¯ Observableï¼Œç”¨æˆ·æ˜¯ Observerã€‚ç”¨æˆ·æ‰“ç”µè¯ï¼ˆsubscribeï¼‰ç»™ç‰›å¥¶å•†ï¼Œç‰›å¥¶å•†é€ç‰›å¥¶ï¼ˆnextï¼‰ï¼Œç”¨æˆ·æ”¶åˆ°ç‰›å¥¶åå–ç‰›å¥¶ï¼›é€å¥¶è¿‡ç¨‹å¯èƒ½å‘ç”Ÿæ„å¤–ï¼Œé€å¥¶å¤±è´¥ï¼ˆerrorï¼‰ï¼›æˆ–è€…é€å¥¶é¡ºåˆ©å…¨éƒ¨å®Œæˆï¼ˆcompleteï¼‰ï¼›")]),e._v(" "),r("ul",[r("li",[e._v("Operatorï¼šRxJS æä¾›äº†å¤§é‡çš„ APIï¼Œç†Ÿæ‚‰ä»–ä»¬éœ€è¦æ—¶é—´å’Œç»éªŒï¼›")])]),e._v(" "),r("p",[r("strong",[e._v("åˆ›å»ºæ•°æ®æµ")])]),e._v(" "),r("ul",[r("li",[e._v("å•å€¼ï¼š"),r("code",[e._v("of")]),e._v("ã€"),r("code",[e._v("empty")]),e._v("ã€"),r("code",[e._v("never")])]),e._v(" "),r("li",[e._v("å¤šå€¼ï¼š"),r("code",[e._v("from")])]),e._v(" "),r("li",[e._v("å®šæ—¶ï¼š"),r("code",[e._v("interval")]),e._v("ã€"),r("code",[e._v("timer")])]),e._v(" "),r("li",[e._v("äº‹ä»¶ï¼š"),r("code",[e._v("fromEvent")])]),e._v(" "),r("li",[e._v("Promiseï¼š"),r("code",[e._v("fromPromise")])]),e._v(" "),r("li",[e._v("è‡ªå®šä¹‰ï¼š"),r("code",[e._v("create")])])]),e._v(" "),r("p",[r("strong",[e._v("è½¬æ¢")])]),e._v(" "),r("ul",[r("li",[e._v("æ”¹å˜æ•°æ®å½¢æ€ï¼š"),r("code",[e._v("map")]),e._v(",Â "),r("code",[e._v("mapTo")]),e._v(",Â "),r("code",[e._v("pluck")])]),e._v(" "),r("li",[e._v("è¿‡æ»¤ä¸€äº›å€¼ï¼š"),r("code",[e._v("filter")]),e._v(",Â "),r("code",[e._v("skip")]),e._v(",Â "),r("code",[e._v("first")]),e._v(",Â "),r("code",[e._v("last")]),e._v(",Â "),r("code",[e._v("take")])]),e._v(" "),r("li",[e._v("æ—¶é—´è½´ä¸Šçš„æ“ä½œï¼š"),r("code",[e._v("delay")]),e._v(",Â "),r("code",[e._v("timeout")]),e._v(",Â "),r("code",[e._v("throttle")]),e._v(",Â "),r("code",[e._v("debounce")]),e._v(",Â "),r("code",[e._v("audit")]),e._v(",Â "),r("code",[e._v("bufferTime")])]),e._v(" "),r("li",[e._v("ç´¯åŠ ï¼š"),r("code",[e._v("reduce")]),e._v(",Â "),r("code",[e._v("scan")])]),e._v(" "),r("li",[e._v("å¼‚å¸¸å¤„ç†ï¼š"),r("code",[e._v("throw")]),e._v(",Â "),r("code",[e._v("catch")]),e._v(",Â "),r("code",[e._v("retry")]),e._v(",Â "),r("code",[e._v("finally")])]),e._v(" "),r("li",[e._v("æ¡ä»¶æ‰§è¡Œï¼š"),r("code",[e._v("takeUntil")]),e._v(",Â "),r("code",[e._v("delayWhen")]),e._v(",Â "),r("code",[e._v("retryWhen")]),e._v(",Â "),r("code",[e._v("subscribeOn")]),e._v(",Â "),r("code",[e._v("ObserveOn")])]),e._v(" "),r("li",[e._v("è½¬æ¥ï¼š"),r("code",[e._v("switch")])])]),e._v(" "),r("p",[r("strong",[e._v("ç»„åˆ")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("concat")]),e._v("Â ä¿æŒåŸæ¥çš„åºåˆ—é¡ºåºè¿æ¥ä¸¤ä¸ªæ•°æ®æµ")]),e._v(" "),r("li",[r("code",[e._v("merge")]),e._v("Â åˆå¹¶åºåˆ—")]),e._v(" "),r("li",[r("code",[e._v("race")]),e._v("Â é¢„è®¾æ¡ä»¶ä¸ºå…¶ä¸­ä¸€ä¸ªæ•°æ®æµå®Œæˆ")]),e._v(" "),r("li",[r("code",[e._v("forkJoin")]),e._v("Â é¢„è®¾æ¡ä»¶ä¸ºæ‰€æœ‰æ•°æ®æµéƒ½å®Œæˆ")]),e._v(" "),r("li",[r("code",[e._v("zip")]),e._v("Â å–å„æ¥æºæ•°æ®æµæœ€åä¸€ä¸ªå€¼åˆå¹¶ä¸ºå¯¹è±¡")]),e._v(" "),r("li",[r("code",[e._v("combineLatest")]),e._v("Â å–å„æ¥æºæ•°æ®æµæœ€åä¸€ä¸ªå€¼åˆå¹¶ä¸ºæ•°ç»„")])]),e._v(" "),r("p",[e._v("Observable çš„ä¼˜åŠ¿åœ¨äºï¼š")]),e._v(" "),r("ul",[r("li",[e._v("é™ä½äº†ç›®æ ‡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œä¸¤è€…ä¹‹é—´æ˜¯æŠ½è±¡è€¦åˆå…³ç³»ï¼›")]),e._v(" "),r("li",[e._v("ç¬¦åˆ "),r("strong",[e._v("ä¾èµ–å€’ç½®åŸåˆ™")]),e._v("ï¼›")]),e._v(" "),r("li",[e._v("ç›®æ ‡ä¸è§‚å¯Ÿè€…ä¹‹é—´å»ºç«‹äº†ä¸€å¥—è§¦å‘æœºåˆ¶ï¼›")]),e._v(" "),r("li",[e._v("æ”¯æŒå¹¿æ’­é€šä¿¡å¤šæ’­ï¼›")])]),e._v(" "),r("blockquote",[r("p",[e._v("ä¾èµ–å€’ç½®åŸåˆ™ï¼šä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰æ˜¯ç¨‹åºè¦ä¾èµ–äºæŠ½è±¡æ¥å£ï¼Œä¸è¦ä¾èµ–äºå…·ä½“å®ç°ã€‚ç®€å•çš„è¯´å°±æ˜¯è¦æ±‚å¯¹æŠ½è±¡è¿›è¡Œç¼–ç¨‹ï¼Œä¸è¦å¯¹å®ç°è¿›è¡Œç¼–ç¨‹ï¼Œè¿™æ ·å°±é™ä½äº†å®¢æˆ·ä¸å®ç°æ¨¡å—é—´çš„è€¦åˆã€‚")])]),e._v(" "),r("p",[e._v("å¤šæ’­ï¼ˆå³ä¸€ä¸ªObservableï¼Œå¤šä¸ªsubscribeï¼‰ï¼š")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a859253ee8fb449aac5d0e94c2ded433~tplv-k3u1fbpfcp-watermark.awebp",alt:""}})]),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("ä»¥ä¸Šå°±æ˜¯å…³äº "),r("strong",[e._v("RxJS Observable")]),e._v(" è¿›ä¸€æ­¥åœ¨æ¦‚å¿µä¸Šçš„è§£æƒ‘~~")]),e._v(" "),r("p",[e._v("è§‰å¾—è¿˜ä¸é”™ï¼Œç‚¹ä¸ªèµå§ğŸ‘ğŸ‘ğŸ‘")]),e._v(" "),r("p",[e._v("æ›´å¤šæ¨èé˜…è¯»ï¼š")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://juejin.cn/post/6910943445569765384",target:"_blank",rel:"noopener noreferrer"}},[e._v("RxJSâ€”â€”ç»™ä½ å¦‚ä¸ä¸€èˆ¬é¡ºæ»‘çš„ç¼–ç¨‹ä½“éªŒï¼ˆç¯‡å¹…è¾ƒé•¿ï¼Œå»ºè®®æ”¶è—ï¼‰"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://cipchk.gitbooks.io/angular-practice/content/rxjs/what.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("angular-practice-rxjs"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://segmentfault.com/a/1190000005051034",target:"_blank",rel:"noopener noreferrer"}},[e._v("RxJs æ ¸å¿ƒæ¦‚å¿µä¹‹Observable"),r("OutboundLink")],1)])]),e._v(" "),r("blockquote",[r("p",[e._v("æˆ‘æ˜¯æ˜é‡‘å®‰ä¸œå°¼ï¼Œå…¬ä¼—å·åŒåï¼Œæ—¥æ‹±ä¸€å’ã€æ—¥æ˜ä¸€é‡‘ï¼Œå†ä¼š~")])])])}),[],!1,null,null,null);v.default=_.exports}}]);