(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{570:function(n,s,a){"use strict";a.r(s);var e=a(2),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("p",[a("strong",[n._v("ç®—æ³•ç³»åˆ—ï¼Œ æ—¥æ‹±ä¸€å’ã€‚")]),n._v(" æ›´å¤šç²¾å½©ï¼Œè¯·å…³æ³¨æˆ‘çš„ "),a("a",{attrs:{href:"https://juejin.cn/column/7026262697683451917",target:"_blank",rel:"noopener noreferrer"}},[n._v("ç®—æ³•ä¸“æ "),a("OutboundLink")],1),n._v(" (â—'â—¡'â—)")]),n._v(" "),a("p",[a("strong",[n._v("æœ¬ç¯‡å¸¦æ¥åˆ©ç”¨å¤§å°å †è§£å†³â€œèŽ·å–æ•°æ®æµçš„ä¸­ä½æ•°â€çš„é—®é¢˜ã€‚")])]),n._v(" "),a("p",[a("a",{attrs:{href:"https://leetcode-cn.com/problems/find-median-from-data-stream",target:"_blank",rel:"noopener noreferrer"}},[n._v("é¢˜ç›®"),a("OutboundLink")],1),n._v("ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("ä¸­ä½æ•°æ˜¯æœ‰åºåˆ—è¡¨ä¸­é—´çš„æ•°ã€‚å¦‚æžœåˆ—è¡¨é•¿åº¦æ˜¯å¶æ•°ï¼Œä¸­ä½æ•°åˆ™æ˜¯ä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚\n\nä¾‹å¦‚ï¼Œ\n\n[2,3,4]Â çš„ä¸­ä½æ•°æ˜¯ 3\n\n[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5\n\nè®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æž„ï¼š\n\nvoid addNum(int num) - ä»Žæ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æž„ä¸­ã€‚\ndouble findMedian() - è¿”å›žç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("è¿›é˜¶:\n\nå¦‚æžœæ•°æ®æµä¸­æ‰€æœ‰æ•´æ•°éƒ½åœ¨ 0 åˆ° 100 èŒƒå›´å†…ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ\nå¦‚æžœæ•°æ®æµä¸­ 99% çš„æ•´æ•°éƒ½åœ¨ 0 åˆ° 100 èŒƒå›´å†…ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br")])]),a("p",[a("strong",[n._v("è§£é¢˜æ€è·¯ï¼š")])]),n._v(" "),a("p",[n._v("åœ¨æ•°æ®æµä¸­ï¼Œæ•°æ®ä¼šä¸æ–­æ¶Œå…¥ç»“æž„ä¸­ï¼Œé‚£ä¹ˆä¹Ÿå°±é¢ä¸´ç€éœ€è¦å¤šæ¬¡åŠ¨æ€è°ƒæ•´ä»¥èŽ·å¾—ä¸­ä½æ•°ã€‚ å› æ­¤å®žçŽ°çš„æ•°æ®ç»“æž„éœ€è¦æ—¢éœ€è¦å¿«é€Ÿæ‰¾åˆ°ä¸­ä½æ•°ï¼Œä¹Ÿéœ€è¦åšåˆ°å¿«é€Ÿè°ƒæ•´ã€‚")]),n._v(" "),a("p",[n._v("é¦–å…ˆèƒ½æƒ³åˆ°å°±æ˜¯"),a("strong",[n._v("äºŒå‰æœç´¢æ ‘ï¼Œåœ¨å¹³è¡¡çŠ¶æ€ä¸‹ï¼Œæ ‘é¡¶å¿…å®šæ˜¯ä¸­é—´æ•°ï¼Œç„¶åŽå†æ ¹æ®é•¿åº¦çš„å¥‡å¶æ€§å†³å®šæ˜¯å¦å–ä¸¤ä¸ªæ•°ã€‚")])]),n._v(" "),a("p",[n._v("æ­¤æ–¹æ³•æ•ˆçŽ‡é«˜ï¼Œä½†æ˜¯æ‰‹åŠ¨ç¼–å†™è¾ƒè´¹æ—¶è´¹åŠ›ã€‚")]),n._v(" "),a("p",[n._v("æ ¹æ®åªéœ€èŽ·å¾—ä¸­é—´æ•°çš„æƒ³æ³•ï¼Œå¯ä»¥å°†æ•°æ®åˆ†ä¸ºå·¦å³ä¸¤è¾¹ï¼Œä¸€è¾¹ä»¥æœ€å¤§å †çš„å½¢å¼å®žçŽ°ï¼Œå¯ä»¥å¿«é€ŸèŽ·å¾—å·¦ä¾§æœ€å¤§æ•°ï¼Œ å¦ä¸€è¾¹åˆ™ä»¥æœ€å°å †çš„å½¢å¼å®žçŽ°ã€‚å…¶ä¸­éœ€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯å·¦å³ä¾§æ•°æ®çš„é•¿åº¦å·®ä¸èƒ½è¶…è¿‡1ã€‚ è¿™ç§å®žçŽ°æ–¹å¼çš„æ•ˆçŽ‡ä¸ŽAVLå¹³è¡¡äºŒå‰æœç´¢æ ‘çš„æ•ˆçŽ‡ç›¸è¿‘ï¼Œä½†ç¼–å†™æ›´å¿«ï¼›")]),n._v(" "),a("ul",[a("li",[n._v("AVL å¹³è¡¡äºŒå‰æœç´¢æ ‘")])]),n._v(" "),a("blockquote",[a("p",[a("strong",[n._v("å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘")]),n._v("ï¼šç®€ç§°å¹³è¡¡äºŒå‰æ ‘ã€‚ç”±å‰è‹è”çš„æ•°å­¦å®¶Â "),a("strong",[n._v("A")]),n._v("delse-"),a("strong",[n._v("V")]),n._v("elskil å’ŒÂ "),a("strong",[n._v("L")]),n._v("andis åœ¨ 1962 å¹´æå‡ºçš„é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ï¼Œæ ¹æ®ç§‘å­¦å®¶çš„è‹±æ–‡åä¹Ÿç§°ä¸º AVL æ ‘ã€‚å®ƒå…·æœ‰å¦‚ä¸‹å‡ ä¸ªæ€§è´¨ï¼š")]),n._v(" "),a("ol",[a("li",[n._v("å¯ä»¥æ˜¯ç©ºæ ‘ã€‚")]),n._v(" "),a("li",[n._v("å‡å¦‚ä¸æ˜¯ç©ºæ ‘ï¼Œä»»ä½•ä¸€ä¸ªç»“ç‚¹çš„å·¦å­æ ‘ä¸Žå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå¹¶ä¸”é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚")])])]),n._v(" "),a("p",[n._v("æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(log n)ï¼›")]),n._v(" "),a("p",[a("strong",[n._v("å›¾è§£ï¼š")]),n._v("ï¼ˆ"),a("a",{attrs:{href:"https://leetcode-cn.com/problems/find-median-from-data-stream/solution/tu-jie-zui-da-dui-zui-xiao-dui-jszi-ding-gwpy/",target:"_blank",rel:"noopener noreferrer"}},[n._v("å›¾è§£æ¥æº-Maple"),a("OutboundLink")],1),n._v("ï¼‰")]),n._v(" "),a("p",[n._v("åŠ¨æ€ç»´æŠ¤ä¸€ä¸ªæœ€å¤§å †å’Œæœ€å°å †ï¼Œæœ€å¤§å †å­˜å‚¨ä¸€åŠæ•°æ®ï¼Œæœ€å°å †å­˜å‚¨ä¸€åŠæ•°æ®ï¼Œç»´æŒæœ€å¤§å †çš„å †é¡¶æ¯”æœ€å°å †çš„å †é¡¶å°ï¼Œå¹¶ä¸”ä¸¤ä¸ªå †çš„å¤§å°æœ€å¤šç›¸å·®1ã€‚")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7c1c66667c34d9bb46e8cb5a1a819c1~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),a("p",[n._v("æ’å…¥æ–°å…ƒç´ æ—¶ï¼Œå…·ä½“æƒ…å†µåˆ†æžå¦‚ä¸‹ï¼š")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c71e54ba01d84c4a832faf01bcfb197f~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),a("p",[a("strong",[n._v("JS å®žçŽ°ï¼š")])]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("const MedianFinder = function () {\n    // é»˜è®¤æœ€å¤§å †\n    const defaultCmp = (x, y) => x > y;\n    // äº¤æ¢å…ƒç´ \n    const swap = (arr, i, j) => ([arr[i], arr[j]] = [arr[j], arr[i]]);\n    // å †ç±»ï¼Œé»˜è®¤æœ€å¤§å †\n    class Heap {\n        constructor(cmp = defaultCmp) {\n            this.container = [];\n            this.cmp = cmp;\n        }\n        // æ’å…¥\n        insert(data) {\n            const { container, cmp } = this;\n            container.push(data);\n            let index = this.size() - 1;\n            while (index) {\n                let parent = (index - 1) >> 1;\n                if (!cmp(container[index], container[parent])) {\n                    return;\n                }\n                swap(container, index, parent);\n                index = parent;\n            }\n        }\n        // å¼¹å‡ºå †é¡¶ï¼Œå¹¶è¿”å›ž\n        pop() {\n            const { container, cmp } = this;\n            if (!this.size()) {\n                return null;\n            }\n            swap(container, 0, this.size() - 1);\n            const res = container.pop();\n            const length = this.size();\n            let index = 0,\n                exchange = index * 2 + 1;\n            while (exchange < length) {\n                // // ä»¥æœ€å¤§å †çš„æƒ…å†µæ¥è¯´ï¼šå¦‚æžœæœ‰å³èŠ‚ç‚¹ï¼Œå¹¶ä¸”å³èŠ‚ç‚¹çš„å€¼å¤§äºŽå·¦èŠ‚ç‚¹çš„å€¼\n                let right = index * 2 + 2;\n                if (right < length && cmp(container[right], container[exchange])) {\n                    exchange = right;\n                }\n                if (!cmp(container[exchange], container[index])) {\n                    break;\n                }\n                swap(container, exchange, index);\n                index = exchange;\n                exchange = index * 2 + 1;\n            }\n            return res;\n        }\n        // èŽ·å–å †å¤§å°\n        size() {\n            return this.container.length;\n        }\n        // èŽ·å–å †é¡¶\n        peek() {\n            if (this.size()) return this.container[0];\n            return null;\n        }\n    }\n    // æœ€å¤§å †\n    this.A = new Heap();\n    // æœ€å°å †\n    this.B = new Heap((x, y) => x < y);\n};\nMedianFinder.prototype.addNum = function (num) {\n    if (this.A.size() !== this.B.size()) {\n        // å½“Nä¸ºå¥‡æ•°ï¼Œéœ€è¦å‘Bæ·»åŠ ä¸€ä¸ªå…ƒç´ \n        // å…ˆå°†numæ’å…¥Aï¼Œå†å°†Aå †é¡¶å¼¹å‡ºï¼Œæ’å…¥B\n        this.A.insert(num);\n        this.B.insert(this.A.pop());\n    } else {\n        // å½“Nä¸ºå¶æ•°ï¼Œéœ€è¦å‘Aæ·»åŠ ä¸€ä¸ªå…ƒç´ \n        // å…ˆå°†numæ’å…¥Bï¼Œå†å°†Bå †é¡¶å¼¹å‡ºï¼Œæ’å…¥A\n        this.B.insert(num);\n        this.A.insert(this.B.pop());\n    }\n};\nMedianFinder.prototype.findMedian = function () {\n    // è‹¥æ€»å’Œä¸ºå¶æ•°ï¼Œè¿”å›žä¸¤ä¸ªå †é¡¶çš„å¹³å‡æ•°\n    // è‹¥æ€»å’Œä¸ºå¥‡æ•°ï¼Œè¿”å›žAçš„å †é¡¶\n    return this.A.container.length === this.B.container.length\n        ? (this.A.peek() + this.B.peek()) / 2\n        : this.A.peek();\n};\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br"),a("span",{staticClass:"line-number"},[n._v("51")]),a("br"),a("span",{staticClass:"line-number"},[n._v("52")]),a("br"),a("span",{staticClass:"line-number"},[n._v("53")]),a("br"),a("span",{staticClass:"line-number"},[n._v("54")]),a("br"),a("span",{staticClass:"line-number"},[n._v("55")]),a("br"),a("span",{staticClass:"line-number"},[n._v("56")]),a("br"),a("span",{staticClass:"line-number"},[n._v("57")]),a("br"),a("span",{staticClass:"line-number"},[n._v("58")]),a("br"),a("span",{staticClass:"line-number"},[n._v("59")]),a("br"),a("span",{staticClass:"line-number"},[n._v("60")]),a("br"),a("span",{staticClass:"line-number"},[n._v("61")]),a("br"),a("span",{staticClass:"line-number"},[n._v("62")]),a("br"),a("span",{staticClass:"line-number"},[n._v("63")]),a("br"),a("span",{staticClass:"line-number"},[n._v("64")]),a("br"),a("span",{staticClass:"line-number"},[n._v("65")]),a("br"),a("span",{staticClass:"line-number"},[n._v("66")]),a("br"),a("span",{staticClass:"line-number"},[n._v("67")]),a("br"),a("span",{staticClass:"line-number"},[n._v("68")]),a("br"),a("span",{staticClass:"line-number"},[n._v("69")]),a("br"),a("span",{staticClass:"line-number"},[n._v("70")]),a("br"),a("span",{staticClass:"line-number"},[n._v("71")]),a("br"),a("span",{staticClass:"line-number"},[n._v("72")]),a("br"),a("span",{staticClass:"line-number"},[n._v("73")]),a("br"),a("span",{staticClass:"line-number"},[n._v("74")]),a("br"),a("span",{staticClass:"line-number"},[n._v("75")]),a("br"),a("span",{staticClass:"line-number"},[n._v("76")]),a("br"),a("span",{staticClass:"line-number"},[n._v("77")]),a("br"),a("span",{staticClass:"line-number"},[n._v("78")]),a("br"),a("span",{staticClass:"line-number"},[n._v("79")]),a("br"),a("span",{staticClass:"line-number"},[n._v("80")]),a("br"),a("span",{staticClass:"line-number"},[n._v("81")]),a("br"),a("span",{staticClass:"line-number"},[n._v("82")]),a("br"),a("span",{staticClass:"line-number"},[n._v("83")]),a("br"),a("span",{staticClass:"line-number"},[n._v("84")]),a("br"),a("span",{staticClass:"line-number"},[n._v("85")]),a("br"),a("span",{staticClass:"line-number"},[n._v("86")]),a("br")])]),a("p",[n._v("åŸºäºŽå›¾è§£å†çœ‹ä»£ç å®žçŽ°ï¼Œå°±å¤ªæ¸…æ™°äº†~~")]),n._v(" "),a("hr"),n._v(" "),a("p",[n._v("OKï¼Œä»¥ä¸Šå°±æ˜¯æœ¬ç¯‡åˆ†äº«~ æ’°æ–‡ä¸æ˜“ï¼Œç‚¹èµžé¼“åŠ±ðŸ‘ðŸ‘ðŸ‘")]),n._v(" "),a("p",[n._v("æˆ‘æ˜¯æŽ˜é‡‘å®‰ä¸œå°¼ï¼Œå…¬ä¼—å·åŒåï¼Œæ—¥æ‹±ä¸€å’ã€æ—¥æŽ˜ä¸€é‡‘ï¼Œå†ä¼š~")])])}),[],!1,null,null,null);s.default=t.exports}}]);