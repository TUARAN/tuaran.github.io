(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{739:function(n,s,e){"use strict";e.r(s);var a=e(2),t=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("携手创作，共同成长！这是我参与「掘金日新计划 · 8 月更文挑战」的第20天，"),e("a",{attrs:{href:"https://juejin.cn/post/7123120819437322247",title:"https://juejin.cn/post/7123120819437322247",target:"_blank",rel:"noopener noreferrer"}},[n._v("点击查看活动详情"),e("OutboundLink")],1)]),n._v(" "),e("hr"),n._v(" "),e("p",[n._v("减轻阅读负担，启发创作心智，轻松学习 JavaScript 技巧，日拱一卒，jym，冲~")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5baeb2f877364de68cd24b2c62fdca1f~tplv-k3u1fbpfcp-watermark.image?",alt:"take-it-easy-relax.gif"}})]),n._v(" "),e("p",[n._v("不知道哥几个在码上掘金都走起来了没，本篇带来 5 个 NICE 的 JavaScript 代码片段分享，并附上"),e("a",{attrs:{href:"https://code.juejin.cn/",target:"_blank",rel:"noopener noreferrer"}},[n._v("码上掘金"),e("OutboundLink")],1),n._v("地址。在线调试，一跑就会，走起~")]),n._v(" "),e("hr"),n._v(" "),e("h2",{attrs:{id:"_4-种-html-string-转-dom-方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-种-html-string-转-dom-方式"}},[n._v("#")]),n._v(" 4 种 html string 转 dom 方式")]),n._v(" "),e("p",[n._v("我们最常常用到 "),e("code",[n._v("document.createElement('div')")]),n._v(" 然后用 "),e("code",[n._v("div.innerHTML")]),n._v(" 赋值可以将 html string 转成 dom；除此之外，还可以通过另外 3 种方式实现同样效果，代码如下：")]),n._v(" "),e("p",[n._v("收藏等于学会~")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// 方式 1\nfunction str2DOMFn1(str) {\n  const div = document.createElement('div');\n  div.innerHTML = str;\n  return div.firstElementChild;\n}\n\n// 方式 2\nfunction str2DOMFn2(str) {\n  return new DOMParser().parseFromString(str, 'text/html').body\n    .firstElementChild;\n}\n\n// 方式 3\nfunction str2DOMFn3(str) {\n  return document.createRange().createContextualFragment(str);\n}\n\n// 方式 4\nfunction str2DOMFn4(str) {\n  const div = document.createElement('div');\n  div.insertAdjacentHTML('afterbegin', str);\n  return div.firstElementChild;\n}\n\n// test\nfunction main(name) {\n  const str = `<h1>Hello ${name}</h1>`;\n  const element1 = str2DOMFn1(str) \n  const element2 = str2DOMFn2(str) \n  const element3 = str2DOMFn3(str) \n  const element4 = str2DOMFn4(str) \n  document.body.appendChild(element1);\n  document.body.appendChild(element2);\n  document.body.appendChild(element3);\n  document.body.appendChild(element4);\n}\n\nmain('World');\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br")])]),e("ul",[e("li",[n._v("在线地址：")])]),n._v(" "),e("p",[e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e6a09f974524d6ca5d39dff4d914829~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),n._v(" "),e("p",[e("code",[n._v("https://code.juejin.cn/pen/7133423354757218311")])]),n._v(" "),e("h2",{attrs:{id:"js-计算比特"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-计算比特"}},[n._v("#")]),n._v(" js 计算比特")]),n._v(" "),e("p",[n._v("我们常常需要计算比特大小，如何换算1024 是多少比特，可以用以下方法：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("const formatBytes = (bytes, decimals = 2) => {\n  if (bytes < 0) return '';\n  if (bytes <= 1) return `${bytes}B`;\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return `${parseFloat((bytes / k ** i).toFixed(dm))}${sizes[i]}`;\n};\n\n// 🎉 1KB\nconsole.log(formatBytes(1024));\n\n// 🎉 1MB\nconsole.log(formatBytes(1024 ** 2));\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br")])]),e("ul",[e("li",[n._v("在线地址：")])]),n._v(" "),e("p",[e("code",[n._v("https://code.juejin.cn/pen/7133465003029430309")])]),n._v(" "),e("h2",{attrs:{id:"_4-种-js-格式化金钱方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-种-js-格式化金钱方式"}},[n._v("#")]),n._v(" 4 种 js 格式化金钱方式")]),n._v(" "),e("p",[n._v("格式化金钱，我们提过很多次，这里提供 4 种方式进行格式化：")]),n._v(" "),e("p",[n._v("之前看有人问：为什么钱的格式要按千分位去划分？")]),n._v(" "),e("p",[n._v("原因是：依西方的习惯，每隔三位数加进一个逗号，也就是千位分隔符，以便更加容易认出数值。英语里没有“万”“亿”，只有“百万（million）”“十亿（billion）”，千位分隔符就是这么产生的。。。简而言之，“国际标准”~")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// Option 1\nfunction formatMoneyFn1(num) {\n  return num.toLocaleString();\n}\n\n// Option 2\nfunction formatMoneyFn2(num) {\n  const nf = new Intl.NumberFormat();\n  return nf.format(num);\n}\n\n// Option 3\nfunction formatMoneyFn3(num) {\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\n// Option 4\nfunction formatMoneyFn4(num) {\n  const arr = num.toString().split('');\n  let index = -3;\n  while (arr.length + index > 0) {\n    arr.splice(index, 0, ',');\n    index -= 4;\n  }\n  return arr.join('');\n}\n\n// 🎉 '20,220,316'\nconsole.log(formatMoneyFn1(20220316));\nconsole.log(formatMoneyFn2(20220316));\nconsole.log(formatMoneyFn3(20220316));\nconsole.log(formatMoneyFn4(20220316));\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br")])]),e("ul",[e("li",[n._v("在线地址：")])]),n._v(" "),e("p",[e("code",[n._v("https://code.juejin.cn/pen/7133465433373409311")])]),n._v(" "),e("h2",{attrs:{id:"解析-url-参数为对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解析-url-参数为对象"}},[n._v("#")]),n._v(" 解析 url 参数为对象")]),n._v(" "),e("p",[n._v("解析 url 参数，并生成对象，也是我们常常遇到的需求：")]),n._v(" "),e("p",[n._v("好用~")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("const getURLParams = (url) => {\n  return (url.match(/([^?=&]+)(=([^&]*))/g) || []).reduce((acc, cur) => {\n    const [k, v] = cur.split('=');\n    const p = acc[k];\n\n    acc[k] = p ? (Array.isArray(p) ? p : [p]).concat(v) : v;\n    return acc;\n  }, {});\n};\n\n// 🎉 {}\nconsole.log(getURLParams('google.com'));\n\n// 🎉 { name: '1', age: '2' }\nconsole.log(getURLParams('https://www.google.com/?name=1&age=2'));\n\n// Support duplicate key\n// 🎉 { name: '1', age: [ '2', '3' ] }\nconsole.log(getURLParams('https://www.google.com/?name=1&age=2&age=3'));\n\n// 🎉 { name: '1', age: '2' }\nconsole.log(getURLParams('name=1&age=2'));\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br")])]),e("ul",[e("li",[n._v("在线地址：")])]),n._v(" "),e("p",[e("code",[n._v("https://code.juejin.cn/pen/7133467809840889863")])]),n._v(" "),e("h2",{attrs:{id:"完全体深拷贝"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#完全体深拷贝"}},[n._v("#")]),n._v(" 完全体深拷贝")]),n._v(" "),e("p",[n._v("什么样的深拷贝堪称完全体？即：任何类型的数据都会被深拷贝~ 看代码：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("const deepClone = (obj, map = new WeakMap()) => {\n  if (obj instanceof Date) return new Date(obj);\n  if (obj instanceof RegExp) return new RegExp(obj);\n\n  if (map.has(obj)) {\n    return map.get(obj);\n  }\n\n  const allDesc = Object.getOwnPropertyDescriptors(obj);\n  const cloneObj = Object.create(Object.getPrototypeOf(obj), allDesc);\n\n  map.set(obj, cloneObj);\n\n  for (const key of Reflect.ownKeys(obj)) {\n    const value = obj[key];\n\n    cloneObj[key] =\n      value instanceof Object && typeof value !== 'function'\n        ? deepClone(value, map)\n        : value;\n  }\n  return cloneObj;\n};\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br")])]),e("ul",[e("li",[n._v("在线地址：")])]),n._v(" "),e("p",[e("code",[n._v("https://code.juejin.cn/pen/7133468103555416094")])]),n._v(" "),e("hr"),n._v(" "),e("p",[n._v("小结：码上掘金这么方便，还不赶紧用起来~")]),n._v(" "),e("blockquote",[e("p",[n._v("OK，以上便是本篇分享。点赞关注评论，为好文助力👍")]),n._v(" "),e("p",[n._v("我是掘金安东尼 🤠 100 万人气前端技术博主 💥 INFP 写作人格坚持 1000 日更文 ✍ 关注我，安东尼陪你一起度过漫长编程岁月 🌏")])])])}),[],!1,null,null,null);s.default=t.exports}}]);