(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{698:function(t,n,s){"use strict";s.r(n);var e=s(2),r=Object(e.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("持续创作，加速成长！这是我参与「掘金日新计划 · 6 月更文挑战」的第6天，"),s("a",{attrs:{href:"https://juejin.cn/post/7099702781094674468",title:"https://juejin.cn/post/7099702781094674468",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看活动详情"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"proto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proto"}},[t._v("#")]),t._v(" __ proto__")]),t._v(" "),s("p",[t._v("最近在看高程4，原型链肯定是绕不过的，本瓜之前一直认为，只要记住这句话就可以了：")]),t._v(" "),s("p",[s("strong",[t._v("一个对象的隐式原型（"),s("code",[t._v("__proto__")]),t._v("）等于构造这个对象的构造函数的显式原型（"),s("code",[t._v("prototype")]),t._v("）")])]),t._v(" "),s("p",[t._v("确实，所有对象都符合这句真理，在控制台打印一试便知：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('const str = new String("123")\nstr.__proto__ === String.prototype // true\n\nconst arr = new Array(["123"])\narr.__proto__ === Array.prototype // true\n\nconst obj = new Object()\nobj.__proto__ === Object.prototype // true\n\nconst bl = new Boolean(false)\nbl.__proto__ === Boolean.prototype // true\n\n......\n\nconst fn = function(){}\nfn.__proto__ === Function.prototype // true\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("虽然我们平常都会像以下这样写居多，声明方式不一样，但结果不变：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const str = '123'\nstr.__proto__ === String.prototype // true\n\nconst arr = [123]\narr.__proto__ === Array.prototype // true\n\nconst obj = {}\nobj.__proto__ === Object.prototype // true\n\nconst bl = false\nbl.__proto__ === Boolean.prototype // true\n\n......\n\nconst fn = new Function()\nfn.__proto__ === Function.prototype // true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("顺着这个思路，那我们接着在构造函数上，继续用 "),s("code",[t._v("__proto__")]),t._v(" 寻找，可以得到：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("String.__proto__=== Function.prototype // true\n\nArray.__proto__=== Function.prototype // true\n\nBoolean.__proto__=== Function.prototype // true\n\nObject.__proto__=== Function.prototype // true \n\nFunction.__proto__=== Function.prototype // true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("这些基本构造函数（String、Array、Boolean、Object 等），都是用 Function 来构造生成的！！")]),t._v(" "),s("p",[t._v("还能用 "),s("code",[t._v("__proto__")]),t._v(" 继续向上找吗？ 不能了，因为结果会是一直重复下面这一行代码：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Function.__proto__ === Function.prototype\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("所以，不管你怎样通 "),s("code",[t._v("__proto__")]),t._v(" 隐式原型向上找，最终都只能找到 Function，而 Function 的隐式原型等于它的显式原型；")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"prototype-proto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prototype-proto"}},[t._v("#")]),t._v(" prototype.__ proto__")]),t._v(" "),s("p",[t._v("但是这与我们所知不符呀，不是万物皆对象吗？？")]),t._v(" "),s("p",[t._v("我们尝试再用 "),s("code",[t._v("__proto__")]),t._v(" 向前探一步，发现：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Function.__proto__.__proto__ === Object.prototype // true\n\nFunction.__proto__ === Function.prototype // true\n\nFunction.prototype.__proto__ === Object.prototype // true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("strong",[t._v("Function 这个终极构造函数，通过查找显式原型的隐式原型，竟然等于 Object 的显式原型！")])]),t._v(" "),s("p",[t._v("其实，其它构造函数也一样，都能找到 Object：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("String.prototype.__proto__=== Object.prototype // true\n\nArray.prototype.__proto__=== Object.prototype // true\n\nBoolean.prototype.__proto__=== Object.prototype // true\n\nObject.prototype.__proto__=== Object.prototype // true \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[s("strong",[t._v("所有构造函数的显式原型的隐式原型 等于 Object 的显式原型！！")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#理解"}},[t._v("#")]),t._v(" 理解")]),t._v(" "),s("p",[t._v("为什么要这样设定呢？？")]),t._v(" "),s("p",[t._v("为什么对象只用"),s("code",[t._v(".__proto__")]),t._v(" 向上查找，最终只能找到 Function？")]),t._v(" "),s("p",[t._v("为什么构造函数用 "),s("code",[t._v(".prototype.__proto__")]),t._v(" 向上查找，能找到 Object ？")]),t._v(" "),s("p",[t._v("这样原型链查找不是有两套逻辑吗？")]),t._v(" "),s("p",[t._v("后来，本瓜歪理解：")]),t._v(" "),s("blockquote",[s("p",[t._v("【Function】就好像是创造万物的上帝，它创造了：各种各样的物质【对象】，物质又分化为：人【字符串】、鱼【数组】、鸟【布尔】、兽【数值】、石头【Date】、花草【正则】等等分类；")]),t._v(" "),s("p",[t._v("这些不同种类的物质，再一代一代延续（繁衍）下去。。。。。。")]),t._v(" "),s("p",[t._v("问：这些种类，它们子孙或后代们的特性【属性】是来源于哪里呢？？")])]),t._v(" "),s("blockquote",[s("ol",[s("li",[t._v("可以从它们的祖先那里继承而来，这一点没毛病，生物 DNA 遗传，龙生龙、凤生凤，老鼠儿子会打洞")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("let Mouse = function(){\n\tthis.makeAHole = true\n}\n\nlet m1 = new Mouse()\n\nm1.makeAHole // true\n\nm1.__proto__.makeAHole === Mouse.prototype.makeAHole // true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("blockquote",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("或者还可以从【物质】这个原始分类而来， 因为人鱼鸟兽、花草树木、石头都还是属于“物质”，比如都有碳元素，就像字符串、数组、布尔、数值都是属于“对象”，都有 toString 方法；")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Object.prototype.carbon = true\n\nlet p1 = 'man'\n\np1.carbon // true\n\np1.__proto__.__proto__.carbon === Object.prototype.carbon// true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("blockquote",[s("p",[t._v("对象 Object（物质）是由函数 Function（上帝）创造的，没毛病。")])]),t._v(" "),s("blockquote",[s("p",[t._v("上帝（Function）也是一种物质（Object），一切都是物质（Object），物质（Object）起源于大爆炸，起源于空（null），也没毛病。")])]),t._v(" "),s("p",[t._v("再来看这张经典的图：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d5d2e9dbad14e28a6b0b8ef637d7c62~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),s("p",[t._v("按照咱们“理解”也画一个：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e52f9f380d1c435b98898b6f9f9c8b8c~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),s("p",[t._v("哈哈哈，害行，这次就先理解到这吧。")]),t._v(" "),s("blockquote",[s("p",[t._v("OK，以上便是本篇分享。 觉得不错点个赞吧👍👍👍，您的鼓励，我的动力，坚持原创质量好文~~ 欢迎评论留言 我是掘金安东尼，输出暴露输入，技术洞见生活。再会吧~~ 👋👋👋")])])])}),[],!1,null,null,null);n.default=r.exports}}]);